import{t as e,j as t,N as s,S as r,a as o,b as n,A as a,c,L as i,I as l,d,e as u,R as m}from"./.pnpm-C9IVxduh.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const p=()=>{const[s,r]=React.useState(!1);return React.useEffect((()=>{const t=e((()=>{document.documentElement.scrollTop>500||document.body.scrollTop>500?r(!0):r(!1)}),100);return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)}),[]),s&&t.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-4 p-2 bg-background-secondary text-text-primary rounded-md hover:bg-background-secondary/90 focus:outline-none border border-border",children:t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 transform rotate-180",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l-7-7h3.5V5.5a2.25 2.25 0 0 1 4.5 0V12h3.5L12 19z"})})})},f=()=>t.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen",children:t.jsx("span",{className:"loading loading-spinner loading-lg"})}),g=axios.create({baseURL:"https://novel-api-psi.vercel.app",timeout:0});g.interceptors.request.use((e=>(s.start(),e)),(e=>(s.done(),Promise.reject(e)))),g.interceptors.response.use((e=>{s.done();const{code:t,message:r,data:o}=e.data;return 0===t||1===t||200===t?o:Promise.reject(new Error(r))}),(e=>{var t;s.done();let r="";switch(null==(t=e.response)?void 0:t.status){case 401:r="token 失效，请重新登录";break;case 403:r="拒绝访问";break;case 404:r="请求地址错误";break;case 500:r="服务器故障";break;default:r="网络连接故障"}return Promise.reject(e)}));const b={get:(e,t)=>g.get(e,t),post:(e,t,s)=>g.post(e,t,s),put:(e,t,s)=>g.put(e,t,s),delete:(e,t)=>g.delete(e,t)},h=()=>{const[e,s]=React.useState([]),[i,l]=React.useState(null);return React.useEffect((()=>{(async()=>{const e=await b.get("/agent/getAgents");s(e),l(e[0])})()}),[]),i?t.jsxs("div",{className:"h-[1000px] relative",children:[t.jsx("img",{className:"object-fill absolute w-[100%]",src:i.pic,alt:i.operator}),t.jsx(r,{className:"w-8/12 absolute bottom-4",spaceBetween:50,slidesPerView:5,navigation:{enabled:!0},modules:[o,n,a],onSlideChange:()=>{},onSwiper:e=>{},children:e.map((e=>{const s=i.id===e.id;return t.jsx(c,{children:t.jsxs("div",{onClick:()=>l(e),className:"cursor-pointer relative w-36 rounded-sm border hover:border-[#f4cf67] "+(s?"border-[#f4cf67]":"opacity-60"),children:[t.jsx("img",{className:"w-36",src:e.pic,alt:e.operator}),t.jsx("p",{className:"absolute bottom-1 left-1 text-white font-extralight text-sm",children:e.operator})]})},e.id)}))})]}):null};function x(){const[e,r]=React.useState(!0);return React.useEffect((()=>{s.start(),setTimeout((()=>{r(!1),s.done()}),1e3)}),[]),t.jsx("main",{className:"container mx-auto",children:e?t.jsx(f,{}):t.jsx(h,{})})}const j=()=>t.jsx("ul",{className:"navbar bg-base-100 text-base-content sticky top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-shadow duration-100 shadow-sm p-3 bg-background/95 supports-[backdrop-filter]:bg-background/40",children:t.jsx("li",{children:t.jsx(i,{to:"/",className:"text-2xl font-bold",children:t.jsx(l,{height:20,preview:!1,src:"https://game.gtimg.cn/images/dfm/cp/a20240906fab/s1_logo.png"})})})}),w=d([{path:"/",element:t.jsxs(t.Fragment,{children:[t.jsx(j,{}),t.jsx(x,{})]})},{path:"*",element:t.jsx(u,{to:"/"})}]),v=document.getElementById("root");if(v){ReactDOM.createRoot(v).render(t.jsxs(React.StrictMode,{children:[t.jsx(m,{router:w}),t.jsx(p,{})]}))}
