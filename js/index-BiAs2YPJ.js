import{t as e,j as s,u as a,a as l,L as t,I as c,N as r,O as n,b as i,c as d,d as o,R as u}from"./.pnpm-ZXEEjfi5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const m=()=>{const[a,l]=React.useState(!1);return React.useEffect((()=>{const s=e((()=>{document.documentElement.scrollTop>500||document.body.scrollTop>500?l(!0):l(!1)}),100);return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)}),[]),a&&s.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-4 p-2 bg-background-secondary text-text-primary rounded-md hover:bg-background-secondary/90 focus:outline-none border border-border",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 transform rotate-180",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l-7-7h3.5V5.5a2.25 2.25 0 0 1 4.5 0V12h3.5L12 19z"})})})},h=()=>s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen w-full",children:s.jsx("span",{className:"loading loading-spinner loading-lg"})}),p=[{key:"agent",label:"干员",children:[{key:"assault",label:"突击"},{key:"project",label:"工程"},{key:"support",label:"支援"},{key:"scout",label:"侦察"}]},{key:"props",label:"道具",children:[{key:"collection",label:"收集品"},{key:"consume",label:"消耗品"},{key:"key",label:"钥匙"},{key:"mandel",label:"曼德尔砖"}]},{key:"arms",label:"武器",children:[{key:"gunRifle",label:"步枪"},{key:"gunSMG",label:"冲锋枪"},{key:"gunPistol",label:"手枪"},{key:"gunLMG",label:"轻机枪"},{key:"gunSniper",label:"狙击步枪"},{key:"gunMP",label:"精确射手步枪"},{key:"gunShotgun",label:"霰弹枪"}]},{key:"protect",label:"装备",children:[{key:"helmet",label:"头盔"},{key:"chest",label:"胸挂"},{key:"armor",label:"护甲"},{key:"bag",label:"背包"}]},{key:"acc",label:"配件",children:[{key:"accForeGrip",label:"前握把"},{key:"accFunctional",label:"功能性配件"},{key:"accBackGrip",label:"后握把"},{key:"accMagazine",label:"弹匣"},{key:"accHandGuard",label:"护木"},{key:"accMuzzle",label:"枪口"},{key:"accStock",label:"枪托"},{key:"accBarrel",label:"枪管"},{key:"accScope",label:"瞄具"}]},{key:"secret",label:"特勤处",children:[{key:"upgrade",label:"升级"},{key:"making",label:"制造"}]}],x=()=>{const e=a(),t=l(),{pathname:c}=t,r=c.replace(/^\//,"").split("/"),[n,i]=React.useState(r.length>0?r[r.length-1]:"agent");return d=p,s.jsx("ul",{className:"menu bg-base-200 p-0 [&_li>*]:rounded-none",children:d.map((a=>s.jsxs("li",{onClick:()=>{i(a.key),e(`/${a.key}`)},children:[s.jsx("a",{className:n===a.key?"active":"",children:a.label}),a.children&&s.jsx("ul",{children:a.children.map((({key:l,label:t,children:c})=>s.jsxs("li",{onClick:s=>{i(l),e(`/${a.key}/${l}`),s.stopPropagation()},children:[s.jsx("a",{className:n===l?"active":"",children:t}),c&&s.jsx("ul",{children:c.map((({key:t,label:c})=>s.jsx("li",{onClick:s=>{i(t),e(`/${a.key}/${l}/${t}`),s.stopPropagation()},children:s.jsx("a",{className:n===l?"active":"",children:c})},t)))})]},l)))})]},a.key)))});var d},b=()=>s.jsx("ul",{className:"navbar bg-base-100 text-base-content fixed top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-shadow duration-100 shadow-sm p-3 bg-background/95 supports-[backdrop-filter]:bg-background/40",children:s.jsx("li",{children:s.jsx(t,{to:"/",className:"text-2xl font-bold",children:s.jsx(c,{height:20,preview:!1,src:"https://game.gtimg.cn/images/dfm/cp/a20240906fab/s1_logo.png"})})})});function j(){const[e,a]=React.useState(!0);return React.useEffect((()=>{r.start(),setTimeout((()=>{a(!1),r.done()}),1e3)}),[]),s.jsxs(s.Fragment,{children:[s.jsx(b,{}),s.jsxs("main",{className:"container max-w-[100vw] pt-[64px] flex h-[100vh] overflow-y-hidden",children:[s.jsx("div",{className:"w-[160px] min-h-[100vh] overflow-y-auto",children:s.jsx(x,{})}),s.jsx("div",{className:"min-h-[100vh - 64px] w-[calc(100vw-160px)] overflow-y-auto",children:e?s.jsx(h,{}):s.jsx(n,{})})]})]})}const g=["#748084","#238d6f","#3a749f","#6c57a0","#8a5e3e","#97434c"],y=({width:e,length:a})=>s.jsx("div",{children:(()=>{const l=[];for(let t=0;t<4;t++){const c=[];for(let l=0;l<7;l++){const r={width:"8px",height:"8px",border:"1px solid black",display:"inline-block",backgroundColor:t<e&&l<a?"black":"transparent",marginRight:1};c.push(s.jsx("div",{style:r},`${t}-${l}`))}l.push(s.jsx("div",{style:{height:8,marginBottom:1},children:c},t))}return l})()}),f=axios.create({baseURL:"https://novel-api-psi.vercel.app",timeout:0});f.interceptors.request.use((e=>(r.start(),e)),(e=>(r.done(),Promise.reject(e)))),f.interceptors.response.use((e=>{r.done();const{code:s,message:a,data:l}=e.data;return 0===s||1===s||200===s?l:Promise.reject(new Error(a))}),(e=>{var s;r.done();let a="";switch(null==(s=e.response)?void 0:s.status){case 401:a="token 失效，请重新登录";break;case 403:a="拒绝访问";break;case 404:a="请求地址错误";break;case 500:a="服务器故障";break;default:a="网络连接故障"}return Promise.reject(e)}));const v={get:(e,s)=>f.get(e,s),post:(e,s,a)=>f.post(e,s,a),put:(e,s,a)=>f.put(e,s,a),delete:(e,s)=>f.delete(e,s)},k={collection:"收集品",consume:"消耗品",key:"钥匙",mandel:"曼德尔砖"},N=[{key:"type"},{key:"useMap"},{key:"usePlace"},{key:"durability",format:e=>`${e}次`},{key:"replyEffect",prefix:"效果"},{key:"hearEnhance",prefix:"效果"},{key:"bearEnhance",prefix:"效果"},{key:"bodyCapacity",prefix:"效果"},{key:"repairPoints",prefix:"修理点"},{key:"availableCount",prefix:"可用次数"},{key:"activeTime",prefix:"持续时间"}],w=({content:e,prefix:a})=>s.jsx("div",{className:"badge badge-outline collapse mb-1",children:a?`${a}：${e}`:e}),C=({data:e})=>{var a;const{propsDetail:l,grade:t,objectName:c,secondClass:r,secondClassCN:n,desc:i,weight:d,width:o,length:u,pic:m}=e;return s.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[s.jsx("figure",{style:{backgroundColor:g[t-1]},className:"p-4",children:s.jsx("img",{src:m,alt:c,className:"h-60 object-contain"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("h2",{className:"card-title",children:[c,"mandel"!==r&&s.jsx("div",{className:"badge",style:{backgroundColor:g[t-1]},children:n})]}),s.jsx("p",{children:i}),s.jsxs("div",{className:"card-actions justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{children:[d,"kg"]}),s.jsx(y,{width:Number(o),length:Number(u)})]}),s.jsxs("div",{className:"w-40 h-full",children:[N.map((({key:e,prefix:a,format:t},c)=>{const r=l[e];return r?s.jsx("div",{children:s.jsx(w,{content:t&&"number"==typeof r?t(r):String(r),prefix:a})},e+c):null})),null==(a=null==l?void 0:l.propsSource)?void 0:a.split(",").map(((e,a)=>s.jsx("div",{children:s.jsx(w,{content:e})},JSON.stringify(e)+a)))]})]})]})]})},R=()=>{const[e,a]=React.useState({}),{type:l}=i(),t=React.useCallback((async()=>{const e=await v.get(`/props/getProps?type=${l||"all"}`);a(e)}),[l]);React.useEffect((()=>{t()}),[t]);const c=React.useCallback((a=>{const t=e[a];return l&&l!==a||!(null==t?void 0:t.length)?null:s.jsxs(React.Fragment,{children:[s.jsx("div",{className:"divider px-8 mt-8",children:k[a]}),s.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:t.map(((e,a)=>s.jsx(C,{data:e},JSON.stringify(e.id)+a)))})]},a)}),[e,l]);return s.jsx("div",{className:"flex flex-col mb-5",children:Object.keys(k).map((e=>c(e)))})},$=()=>{const[e,a]=React.useState({}),{type:l="all"}=i(),t=React.useCallback((async()=>{const e=await v.get(`/arms/getArms?type=${l}`);a(e)}),[l]);React.useEffect((()=>{t()}),[t]);const c=React.useCallback((()=>{var a;return(null==(a=null==e?void 0:e.list)?void 0:a.length)?e.list.reduce(((e,a,l,t)=>{var c;const r=0===l||a.secondClass!==t[l-1].secondClass,n=l===t.length-1;return r&&e.push(s.jsx("div",{className:"divider px-8 mt-8",children:a.secondClassCN},`divider-${a.secondClassCN}`)),(n||(null==(c=t[l+1])?void 0:c.secondClass)!==a.secondClass)&&e.push(s.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:t.slice(r?l:t.findIndex((e=>e.secondClass===a.secondClass)),l+1).map((e=>s.jsx(E,{data:e},e.id)))},`section-${l}`)),e}),[]):null}),[e.list]);return s.jsx("div",{className:"flex flex-col mb-5",children:(null==e?void 0:e.list)&&s.jsx(c,{})})},S=({gunDetail:e})=>s.jsx("div",{className:"w-40",children:[{value:e.capacity,label:`装弹量： ${e.capacity} 发`},{value:e.caliber,label:`口径： ${e.caliber}`},{value:e.fireMode,label:e.fireMode}].map((({value:e,label:a})=>e&&s.jsx("div",{className:"badge badge-outline collapse mb-1",children:a},a)))}),E=({data:e})=>s.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[s.jsx("figure",{style:{backgroundColor:g[e.grade-1]},className:"p-4",children:s.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("h2",{className:"card-title",children:[e.objectName,s.jsx("div",{className:"badge",style:{backgroundColor:g[e.grade-1]},children:e.secondClassCN})]}),s.jsx("p",{children:e.desc}),s.jsxs("div",{className:"card-actions justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{children:[e.weight,"kg"]}),s.jsx(y,{width:Number(e.width),length:Number(e.length)})]}),s.jsx(S,{gunDetail:e.gunDetail})]})]})]}),P=()=>{const[e,a]=React.useState({}),{type:l=""}=i();React.useEffect((()=>{(async()=>{const e=await v.get(`/protect/getProtect?type=${l}`);a(e)})()}),[l]);const t=(a,t)=>{const c=e[a];return l!==a&&l||!c?null:s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"divider px-8 mt-8",children:t}),s.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:c.map((e=>s.jsx(M,{data:e},e.id+t)))})]})};return s.jsxs("div",{className:"flex flex-col mb-5",children:[t("helmet","头盔"),t("armor","护甲"),t("bag","背包"),t("chest","胸挂")]})},M=({data:e})=>{const a=(a,l)=>{const t=e.protectDetail[a];if(!t)return null;let c="";return"object"==typeof t?"percent"in t?c=`${t.percent||t.number}%`:"number"in t?c=`${t.number}%`:"value"in t&&(c=`${t.value}`):c=`${t} 格`,s.jsxs("div",{className:"badge badge-outline collapse mb-1",children:[l,"： ",c]})};return s.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[s.jsx("figure",{style:{backgroundColor:g[e.grade-1]},className:"p-4",children:s.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("h2",{className:"card-title",children:[e.objectName,"mandel"!==e.secondClass&&s.jsx("div",{className:"badge",style:{backgroundColor:g[e.grade-1]},children:e.secondClassCN})]}),s.jsx("p",{children:e.desc}),s.jsxs("div",{className:"card-actions justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{children:[e.weight,"kg"]}),s.jsx(y,{width:Number(e.width),length:Number(e.length)})]}),s.jsxs("div",{className:"w-40",children:[a("capacity","容量"),a("durability","耐久"),a("protectArea","保护区域"),a("moveSpeed","移动速度"),a("aimSpeed","武器操作"),a("faceMask","影响")]})]})]})]})},L=()=>{const[e,a]=React.useState({}),{type:l}=i(),t=React.useCallback((async()=>{const e=await v.get(`/accessories/getAccessories?type=${l||"all"}`);a(e)}),[l]);return React.useEffect((()=>{t()}),[t]),s.jsxs("div",{className:"flex flex-col mb-5",children:[s.jsx(F,{show:"accForeGrip"===l||!l,items:e.accForeGrip,title:"前握把"}),s.jsx(F,{show:"accFunctional"===l||!l,items:e.accFunctional,title:"功能性配件"})]})},F=({show:e,items:a,title:l})=>e&&a?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"divider px-8 mt-8",children:l}),s.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:a.map((e=>s.jsx(O,{data:e},e.id)))})]}):null,O=({data:e})=>{const a={backgroundColor:g[e.grade-1]};return s.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[s.jsx("figure",{style:a,className:"p-4",children:s.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),s.jsxs("div",{className:"card-body",children:[s.jsxs("h2",{className:"card-title",children:[e.objectName,"mandel"!==e.secondClass&&s.jsx("div",{className:"badge",style:a,children:e.secondClassCN})]}),s.jsx("p",{children:e.desc}),s.jsxs("div",{className:"card-actions justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{children:[e.weight,"kg"]}),s.jsx(y,{width:Number(e.width),length:Number(e.length)})]}),s.jsx("div",{className:"w-40"})]})]})]})},G=d([{path:"/",element:s.jsx(j,{}),children:[{path:"/props/:type?",element:s.jsx(R,{})},{path:"/arms/:type?",element:s.jsx($,{})},{path:"/protect/:type?",element:s.jsx(P,{})},{path:"/acc/:type?",element:s.jsx(L,{})}]},{path:"*",element:s.jsx(o,{to:"/",replace:!0})}]),D=document.getElementById("root");if(D){ReactDOM.createRoot(D).render(s.jsxs(React.StrictMode,{children:[s.jsx(u,{router:G}),s.jsx(m,{})]}))}
