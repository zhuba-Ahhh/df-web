import{t as e,j as a,u as s,a as l,L as t,N as c,O as r,b as n,S as i,c as d,d as o,A as m,e as x,f as u,Q as h,g as p,h as g,R as b}from"./.pnpm-cgQOPFqZ.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const j=()=>{const[s,l]=React.useState(!1);return React.useEffect((()=>{const a=e((()=>{document.documentElement.scrollTop>500||document.body.scrollTop>500?l(!0):l(!1)}),100);return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)}),[]),s&&a.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-4 p-2 bg-background-secondary text-text-primary rounded-md hover:bg-background-secondary/90 focus:outline-none border border-border",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 transform rotate-180",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l-7-7h3.5V5.5a2.25 2.25 0 0 1 4.5 0V12h3.5L12 19z"})})})},f=()=>a.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen w-full",children:a.jsx("span",{className:"loading loading-spinner loading-lg"})}),v=["#748084","#238d6f","#3a749f","#6c57a0","#8a5e3e","#97434c"],y=[{key:"assault",label:"突击"},{key:"project",label:"工程"},{key:"support",label:"支援"},{key:"scout",label:"侦察"}],N=[{label:"焰火",value:"3"},{label:"聚变",value:"2"},{label:"起源",value:"1"}],w=[{label:"浩然白帝郑居中",value:"uin=o3477826311; RK=b59FxoIHym; ptcz=3777785d342a528eddf82ba651955ccb98caacf6f435c3c384528525cd0c6484; pgv_pvid=7196508015; eas_sid=21A7g2d2Y5t0Q447b1g8X9L8K3; lplqqcomrouteLine=a20240115lpl_a20240115lpl_a20240115lpl; rv2=80502F3A38E6C3F70F730D59DE0147F331CC33FFFFC02123C4; property20=946F9D3A1B6588D45437A57AC4230CFBE51F1C96D894E540A3D998831349302B87A833D7E96FCEEB; dfqqcomrouteLine=a20240729directory_index_a20240729directory_index_a20240729directory_index_pc; ied_qq=o3477826311; pgv_info=ssid; skey=@JBz9L47JS; iegams_milo_proxylogin_qc=101491592_%24%24_6299DAAC80EA915F34FDA0BE5A6B2635_%24%24_514422781D6FF22FFD04013B58741788; refresh_token=; expires_time=; acctype=qc; openid=6299DAAC80EA915F34FDA0BE5A6B2635; access_token=514422781D6FF22FFD04013B58741788; appid=101491592; ieg_ams_token=; ieg_ams_session_token=; ieg_ams_token_time=; ieg_ams_sign="},{label:"Tobyouter",value:"RK=9w8FxIIX2G; ptcz=050c7946542badbda08f59980d64b1d75401c43b5fba9a7c33585f31976b74f0; iip=0; _qimei_uuid42=1850f171c29100a6a3958363cfd2d0d375b2ae1c6c; _qimei_h38=d896c076a3958363cfd2d0d30300000821850f; eas_sid=m1I7C2h2X3V4A0P772u57021t2; qq_domain_video_guid_verify=28a610049503a5c3; pgv_pvid=2160375143; _qimei_q36=; pac_uid=0_Rn5QhEYkmEnWJ; _qimei_fingerprint=2257a00fd2b9311f5ea7450c12d4d991; suid=user_0_Rn5QhEYkmEnWJ; pgv_info=ssid=s6243878912; iegams_milo_proxylogin_qc=101491592_%24%24_BE41C0491EE5F17E6DA94A72C79ADB8E_%24%24_6A9C431C4DD5F489493AFFE1EAB466DC; dfqqcomrouteLine=record202410ver_record202410ver; acctype=qc; openid=BE41C0491EE5F17E6DA94A72C79ADB8E; access_token=6A9C431C4DD5F489493AFFE1EAB466DC; appid=101491592; refresh_token=; ieg_ams_token=; ieg_ams_session_token=; ieg_ams_token_time=; ieg_ams_sign=; expires_time="},{label:"铁板红烧鱿鱼",value:"pgv_pvid=4895559500; eas_sid=81i7L3v9k1T8O7K3Q4y8F213u6; pgv_info=ssid=s3810672168; dfqqcomrouteLine=record202410ver_record202410ver_record202410ver; RK=tSUQeBPr2E; ptcz=56761e84298743277c44fdc9ce6e1aaf01d848ddfba89205e806370b9d360f1e; iegams_milo_proxylogin_qc=101491592_%24%24_26440B7F3D3C0BA472803E8CC9CCF2AA_%24%24_21F4AD729C637E974124A70DFFEF70EB; acctype=qc; openid=26440B7F3D3C0BA472803E8CC9CCF2AA; access_token=21F4AD729C637E974124A70DFFEF70EB; appid=101491592; refresh_token=; ieg_ams_token=; ieg_ams_session_token=; ieg_ams_token_time=; ieg_ams_sign=; expires_time="},{label:"自定义",value:"custom"}],k=[{key:"info",label:"我的"},{key:"agent",label:"干员",children:y},{key:"props",label:"道具",children:[{key:"collection",label:"收集品"},{key:"consume",label:"消耗品"},{key:"key",label:"钥匙"},{key:"mandel",label:"曼德尔砖"}]},{key:"arms",label:"武器",children:[{key:"gunRifle",label:"步枪"},{key:"gunSMG",label:"冲锋枪"},{key:"gunPistol",label:"手枪"},{key:"gunLMG",label:"轻机枪"},{key:"gunSniper",label:"狙击步枪"},{key:"gunMP",label:"精确射手步枪"},{key:"gunShotgun",label:"霰弹枪"}]},{key:"protect",label:"装备",children:[{key:"helmet",label:"头盔"},{key:"chest",label:"胸挂"},{key:"armor",label:"护甲"},{key:"bag",label:"背包"}]},{key:"acc",label:"配件",children:[{key:"accForeGrip",label:"前握把"},{key:"accFunctional",label:"功能性配件"},{key:"accBackGrip",label:"后握把"},{key:"accMagazine",label:"弹匣"},{key:"accHandGuard",label:"护木"},{key:"accMuzzle",label:"枪口"},{key:"accStock",label:"枪托"},{key:"accBarrel",label:"枪管"},{key:"accScope",label:"瞄具"}]},{key:"secret",label:"特勤处",children:[{key:"upgrade",label:"升级"},{key:"making",label:"制造"}]},{key:"map",label:"资源地图",children:[{key:"s1",label:"地图"}]}],C=()=>{const e=s(),t=l(),{pathname:c}=t,r=c.trim().replace(/^\//,"").split("/"),[n,i]=React.useState(r.length>0&&""!==r[r.length-1]?r[r.length-1]:"agent");return d=k,a.jsx("ul",{className:"menu bg-base-200 p-0 [&_li>*]:rounded-none",children:d.map((s=>a.jsxs("li",{onClick:()=>{i(s.key),e(`/${s.key}`)},children:[a.jsx("a",{className:n===s.key?"active":"",children:s.label}),(null==s?void 0:s.children)&&a.jsx("ul",{children:s.children.map((({key:l,label:t,children:c})=>a.jsxs("li",{onClick:a=>{i(l),e(`/${s.key}/${l}`),a.stopPropagation()},children:[a.jsx("a",{className:n===l?"active":"",children:t}),c&&a.jsx("ul",{children:c.map((({key:t,label:c})=>a.jsx("li",{onClick:a=>{i(t),e(`/${s.key}/${l}/${t}`),a.stopPropagation()},children:a.jsx("a",{className:n===l?"active":"",children:c})},t)))})]},l)))})]},s.key)))});var d},_=()=>a.jsx("div",{style:{height:20},children:a.jsx("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",children:a.jsx("path",{d:"M511.998977 65.290005c-173.638689 0-314.904063 138.294716-314.904063 308.281225 0 77.603449 31.020504 185.005574 85.10633 294.67023 53.746088 108.971877 124.852566 209.287607 195.185424 275.377838 8.955976 9.602705 21.51092 15.08865 34.612309 15.08865 12.913101 0 25.359574-5.358031 34.296107-14.736633 149.549038-140.014894 280.608979-406.358985 280.608979-570.401108C826.904063 203.584722 685.637666 65.290005 511.998977 65.290005zM517.467525 914.127613l-1.128707 1.13894c-0.816598 0.8913-2.232854 1.952468-4.339842 1.952468-2.245134 0-3.695159-1.251503-4.361331-1.997494l-1.294482-1.327228C366.207519 782.579555 238.584863 525.041014 238.584863 373.572254c0-147.109476 122.652458-266.791276 273.414113-266.791276 150.761656 0 273.415137 119.6818 273.415137 266.791276C785.414113 525.483082 657.700383 783.130094 517.467525 914.127613zM513.044796 181.616384c-91.091648 0-165.199483 74.112951-165.199483 165.210739 0 91.076298 74.107835 165.172877 165.199483 165.172877 91.083461 0 165.184133-74.096579 165.184133-165.172877C678.228929 255.729336 604.128257 181.616384 513.044796 181.616384zM513.044796 470.51005c-68.213591 0-123.709533-55.484685-123.709533-123.682927 0-68.219731 55.495942-123.720789 123.709533-123.720789 68.205405 0 123.694183 55.501058 123.694183 123.720789C636.738979 415.025365 581.2502 470.51005 513.044796 470.51005z",fill:"#000000"})})}),R=()=>a.jsx("div",{style:{height:20},children:a.jsxs("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",children:[a.jsx("path",{d:"M516.493312 351.043584c43.292672 0 83.494912 17.770496 112.105472 46.381056l0 0c28.612608 29.411328 46.405632 68.839424 46.405632 112.930816 0 43.290624-17.793024 83.492864-46.405632 112.105472-28.612608 28.614656-68.814848 46.405632-112.105472 46.405632-44.091392 0-83.519488-17.793024-112.930816-46.405632l0 0c-28.61056-28.612608-46.381056-68.814848-46.381056-112.105472 0-44.091392 17.770496-83.519488 46.381056-112.930816l0 0 0 0C432.975872 368.812032 472.403968 351.043584 516.493312 351.043584L516.493312 351.043584zM599.988224 426.835968c-21.633024-21.659648-51.017728-34.791424-83.494912-34.791424-33.275904 0-62.631936 13.131776-83.519488 34.791424l0 0c-21.659648 20.887552-34.791424 50.245632-34.791424 83.519488 0 32.475136 13.131776 61.861888 34.791424 83.492864l0 0c20.887552 20.885504 50.243584 34.045952 83.519488 34.045952 32.475136 0 61.85984-13.160448 83.494912-34.045952 20.885504-21.633024 34.043904-51.017728 34.043904-83.492864C634.032128 477.0816 620.873728 447.72352 599.988224 426.835968L599.988224 426.835968z"}),a.jsx("path",{d:"M775.524352 162.347008l44.86144 44.863488 48.728064 47.95392c7.725056 8.4992 7.725056 20.885504 0 29.35808-0.774144 0-0.774144 0.79872-1.54624 0.79872l-2.318336 2.316288 0 0-1.54624 1.54624c-16.252928 15.478784-23.975936 36.337664-23.975936 56.451072 0 20.885504 7.723008 40.972288 23.975936 57.225216 7.727104 7.723008 17.770496 13.90592 27.815936 17.795072 10.067968 3.835904 21.653504 6.178816 32.499712 5.380096 11.589632-0.745472 20.85888 7.75168 21.633024 19.339264 0 0.800768 0 1.54624 0 2.347008l0 62.631936 0 68.8128c0 11.589632-9.269248 20.887552-20.086784 20.887552l-1.54624-0.772096 0 0.772096-3.090432-0.772096-3.117056 0c-22.403072 0-42.520576 9.2672-56.449024 23.945216-14.680064 13.934592-23.95136 34.048-23.95136 56.451072 0 11.618304 3.09248 22.433792 6.95296 32.477184 4.636672 10.070016 11.589632 19.339264 20.113408 27.066368 8.497152 7.75168 8.497152 20.11136 1.548288 28.614656-0.774144 0.770048-1.548288 1.544192-1.548288 1.544192l-44.86144 44.86144-48.728064 48.728064c-7.723008 7.725056-20.85888 7.725056-28.61056 0-0.774144-0.774144-0.774144-0.774144-1.548288-1.54624l-1.542144-2.318336-0.772096 0-1.54624-1.54624c-15.45216-16.252928-36.337664-23.975936-56.45312-23.975936-20.885504 0-40.974336 7.723008-56.451072 23.975936-8.495104 7.727104-14.678016 17.770496-18.538496 27.815936-3.8912 10.067968-5.435392 21.653504-5.435392 32.499712 0.770048 11.589632-7.727104 20.85888-19.316736 21.633024-0.772096 0-0.772096 0-1.54624 0l-63.404032 0-68.839424 0c-10.815488 0-20.088832-9.269248-20.088832-20.086784l0-1.54624 0 0 0-3.090432 0-3.117056c0-22.403072-9.29792-42.520576-23.230464-56.449024-14.680064-14.680064-34.793472-23.95136-56.424448-23.95136-12.388352 0-23.20384 3.09248-33.247232 6.95296-10.072064 4.636672-19.341312 11.59168-27.068416 20.113408-6.977536 8.497152-20.113408 8.497152-28.61056 1.548288-0.79872-0.774144-0.79872-1.548288-1.544192-1.548288l-44.863488-44.86144-47.95392-48.728064c-8.4992-7.723008-8.4992-20.85888 0-28.61056l0.79872-1.54624 2.291712-1.544192 0.800768-0.772096 1.544192-1.54624c15.45216-15.45216 23.177216-36.337664 23.177216-56.45312 0-20.885504-7.725056-40.972288-23.177216-56.451072-8.523776-8.495104-17.795072-14.678016-27.865088-18.538496-10.817536-3.8912-22.407168-5.435392-33.24928-5.435392-11.587584 0.772096-20.885504-7.727104-21.633024-19.316736 0-0.772096 0-0.772096 0-1.54624l0-63.404032 0-68.839424c0-10.815488 9.271296-20.086784 20.887552-20.086784l1.544192 0 0 0 3.090432 0 2.289664 0c22.431744 0 42.5472-9.299968 57.225216-23.232512 13.934592-14.680064 23.230464-34.793472 23.230464-56.424448 0-12.388352-2.34496-23.20384-6.981632-33.247232-4.634624-10.070016-11.614208-19.341312-19.339264-27.066368-8.4992-6.979584-9.271296-20.115456-1.54624-28.612608 0-0.79872 0.800768-0.79872 1.54624-1.544192l44.863488-44.863488 47.95392-47.95392c8.4992-8.4992 20.885504-8.4992 29.35808 0l0.79872 0.79872 2.316288 2.291712 0 0.800768 1.54624 1.54624c15.478784 15.450112 36.337664 23.177216 56.451072 23.177216 20.885504 0 40.972288-7.725056 57.225216-23.177216 7.723008-8.525824 13.90592-17.79712 17.793024-27.867136 3.837952-10.815488 6.180864-22.403072 5.382144-33.247232-0.745472-11.587584 7.75168-20.887552 19.339264-21.633024 0.800768 0 1.54624 0 2.347008 0l62.631936 0 68.814848 0c11.589632 0 20.885504 9.271296 20.885504 20.887552l-0.770048 1.544192 0.770048 0-0.770048 3.090432 0 2.291712c0 22.429696 9.2672 42.545152 23.945216 57.223168 13.934592 13.934592 34.048 23.230464 56.451072 23.230464 11.618304 0 22.433792-2.34496 32.475136-6.981632 10.072064-4.634624 19.341312-11.587584 27.068416-19.339264 7.75168-8.4992 20.11136-9.271296 28.612608-1.54624C774.750208 160.800768 775.524352 161.599488 775.524352 162.347008L775.524352 162.347008zM791.773184 235.821056l-31.70304-31.70304c-7.723008 6.180864-16.248832 10.815488-25.520128 14.706688-14.680064 6.926336-31.700992 10.815488-48.728064 10.815488-33.245184 0-63.401984-13.907968-85.833728-35.592192l0 0c-18.542592-19.31264-31.70304-44.06272-34.793472-72.675328l-48.699392 0-44.091392 0c-1.542144 9.269248-3.86048 19.341312-6.950912 27.840512-6.207488 15.478784-15.480832 30.158848-27.840512 42.543104-23.20384 23.977984-54.908928 35.538944-85.837824 35.538944-26.294272 0-53.362688-9.269248-75.794432-27.039744l-34.019328 34.793472-31.70304 30.928896c6.180864 7.727104 10.815488 16.25088 14.706688 25.522176 6.924288 14.70464 10.815488 31.700992 10.815488 49.498112 0 33.247232-13.907968 63.40608-35.592192 85.037056l0 0c-19.314688 19.339264-44.06272 31.700992-72.675328 34.818048l0 48.726016 0 44.838912c9.269248 0.774144 19.341312 3.088384 27.840512 6.950912 15.478784 5.410816 30.158848 14.708736 42.543104 27.070464 23.977984 23.973888 35.538944 54.90688 35.538944 85.833728 0 27.068416-9.269248 53.364736-27.039744 75.79648l34.793472 34.789376 30.928896 30.932992c7.727104-5.40672 16.25088-10.815488 25.522176-14.680064 14.70464-6.979584 31.700992-10.842112 49.498112-10.842112 33.247232 0 63.404032 13.934592 85.037056 35.56352l0 0c19.339264 19.341312 31.700992 44.865536 34.818048 72.704l48.726016 0 44.838912 0c0.772096-9.269248 3.088384-18.567168 6.950912-27.838464 5.408768-15.478784 14.708736-30.158848 27.070464-42.522624 23.973888-23.201792 54.90688-35.588096 85.833728-35.588096 27.068416 0 53.364736 9.293824 75.79648 27.066368l34.789376-34.021376 30.932992-31.70304c-5.410816-7.723008-10.815488-16.248832-14.680064-25.520128-6.979584-14.680064-10.842112-31.700992-10.842112-48.728064 0-33.245184 13.934592-63.401984 35.56352-85.833728l0 0c19.341312-18.542592 44.865536-31.70304 72.704-34.793472l0-48.699392 0-44.091392c-9.269248-1.542144-18.567168-3.86048-27.838464-6.950912-15.478784-6.207488-30.158848-15.478784-42.545152-27.840512-23.177216-23.20384-35.56352-54.90688-35.56352-85.837824 0-26.294272 9.293824-53.362688 27.066368-75.792384L791.773184 235.821056zM164.64896 734.590976 164.64896 734.590976M291.459072 158.509056 291.459072 158.509056"})]})}),F=e=>a.jsx("svg",{width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"currentColor",...e,children:a.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"})}),E=()=>{const e=React.useContext(B);return a.jsxs("ul",{className:"navbar bg-base-100 text-base-content fixed top-0 z-30 flex h-16 w-full justify-between bg-opacity-90 backdrop-blur transition-shadow duration-100 shadow-sm p-3 px-6 bg-background/95 supports-[backdrop-filter]:bg-background/40",children:[a.jsxs("li",{children:[a.jsx("button",{onClick:null==e?void 0:e.toggleMenu,className:"p-2 hover:bg-gray-700 rounded-lg transition-colors mr-4",children:a.jsx(F,{className:"w-6 h-6 text-gray-200 transition-transform "+((null==e?void 0:e.isMenuCollapsed)?"rotate-180":"")})}),a.jsx(t,{to:"/",className:"text-2xl font-bold",children:a.jsx("img",{alt:"logo",style:{height:20},src:"https://game.gtimg.cn/images/dfm/cp/a20240906fab/s1_logo.png"})})]}),a.jsxs("li",{children:[a.jsx(t,{to:"/map",className:"text-2xl font-bold",children:a.jsx(_,{})}),a.jsx(t,{to:"/setting",className:"text-2xl font-bold ml-4",children:a.jsx(R,{})})]})]})},S=axios.create({baseURL:"https://api-df.zhuba.site",timeout:0});S.interceptors.request.use((e=>(c.start(),e)),(e=>(c.done(),Promise.reject(e)))),S.interceptors.response.use((e=>{c.done();const{code:a,message:s,data:l}=e.data;return 0===a||1===a||200===a?l:Promise.reject(new Error(s))}),(e=>{var a;c.done();let s="";switch(null==(a=e.response)?void 0:a.status){case 401:s="token 失效，请重新登录";break;case 403:s="拒绝访问";break;case 404:s="请求地址错误";break;case 500:s="服务器故障";break;default:s="网络连接故障"}return Promise.reject(e)}));const A={get:(e,a)=>S.get(e,a),post:(e,a,s)=>S.post(e,a,s),put:(e,a,s)=>S.put(e,a,s),delete:(e,a)=>S.delete(e,a)},D=e=>{const a=Math.floor(e/60),s=e%60;return s>0?`${a}分${s}秒`:`${a}分钟`},M=localStorage.getItem("ck")||w[0].value,$=localStorage.getItem("seasonid")||"3",B=React.createContext(null),L=()=>{const[e,s]=React.useState(!0),[l,t]=React.useState(null),[n,i]=React.useState(window.innerWidth<768),d=React.useCallback((e=>{t((a=>a?{...a,...e}:null))}),[]),o=React.useCallback((()=>{i((e=>!e))}),[]),m=React.useCallback((async()=>{const e=await A.get("/config");t({...e,isMenuCollapsed:n,toggleMenu:o,ck:M,seasonid:$,updateConfig:d})}),[n,o,d]);return React.useEffect((()=>{c.start();const e=()=>{i(window.innerWidth<768)};return window.addEventListener("resize",e),m().finally((()=>{s(!1),c.done()})),()=>window.removeEventListener("resize",e)}),[m]),a.jsxs(B.Provider,{value:l,children:[a.jsx(E,{}),a.jsxs("main",{className:"container max-w-[100vw] pt-[64px] flex h-[100vh] overflow-y-hidden",children:[a.jsx("div",{className:`transition-all duration-300 overflow-y-auto ${n?"w-0":"w-[160px]"} min-h-[100vh]`,children:a.jsx(C,{})}),a.jsx("div",{className:"min-h-[calc(100vh - 64px)] transition-all duration-300 overflow-y-auto "+(n?"w-[100vw]":"w-[calc(100vw-160px)]"),children:e?a.jsx(f,{}):a.jsx(r,{})})]})]})},I=({width:e,length:s})=>a.jsx("div",{children:(()=>{const l=[];for(let t=0;t<4;t++){const c=[];for(let l=0;l<7;l++){const r={width:"8px",height:"8px",border:"1px solid black",display:"inline-block",backgroundColor:t<e&&l<s?"black":"transparent",marginRight:1};c.push(a.jsx("div",{style:r},`${t}-${l}`))}l.push(a.jsx("div",{style:{height:8,marginBottom:1},children:c},t))}return l})()}),P={collection:"收集品",consume:"消耗品",key:"钥匙",mandel:"曼德尔砖"},q=[{key:"type"},{key:"useMap"},{key:"usePlace"},{key:"durability",format:e=>`${e}次`},{key:"replyEffect",prefix:"效果"},{key:"hearEnhance",prefix:"效果"},{key:"bearEnhance",prefix:"效果"},{key:"bodyCapacity",prefix:"效果"},{key:"repairPoints",prefix:"修理点"},{key:"availableCount",prefix:"可用次数"},{key:"activeTime",prefix:"持续时间"}],z=({content:e,prefix:s})=>a.jsx("div",{className:"badge badge-outline collapse mb-1",children:s?`${s}：${e}`:e}),T=({data:e})=>{var s;const{propsDetail:l,grade:t,objectName:c,secondClass:r,secondClassCN:n,desc:i,weight:d,width:o,length:m,pic:x}=e;return a.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[a.jsx("figure",{style:{backgroundColor:v[t-1]},className:"p-4",children:a.jsx("img",{src:x,alt:c,className:"h-60 object-contain"})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("h2",{className:"card-title",children:[c,"mandel"!==r&&a.jsx("div",{className:"badge",style:{backgroundColor:v[t-1]},children:n})]}),a.jsx("p",{children:i}),a.jsxs("div",{className:"card-actions justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{children:[d,"kg"]}),a.jsx(I,{width:Number(o),length:Number(m)})]}),a.jsxs("div",{className:"w-40 h-full",children:[q.map((({key:e,prefix:s,format:t},c)=>{const r=l[e];return r?a.jsx("div",{children:a.jsx(z,{content:t&&"number"==typeof r?t(r):String(r),prefix:s})},e+c):null})),null==(s=null==l?void 0:l.propsSource)?void 0:s.split(",").map(((e,s)=>a.jsx("div",{children:a.jsx(z,{content:e})},JSON.stringify(e)+s)))]})]})]})]})},K=()=>{const[e,s]=React.useState({}),{type:l}=n(),t=React.useCallback((async()=>{const e=await A.get(`/props/getProps?type=${l||"all"}`);s(e)}),[l]);React.useEffect((()=>{t()}),[t]);const c=React.useCallback((s=>{const t=e[s];return l&&l!==s||!(null==t?void 0:t.length)?null:a.jsxs(React.Fragment,{children:[a.jsx("div",{className:"divider px-8 mt-8",children:P[s]}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:t.map(((e,s)=>a.jsx(T,{data:e},JSON.stringify(e.id)+s)))})]},s)}),[e,l]);return a.jsx("div",{className:"flex flex-col mb-5",children:Object.keys(P).map((e=>c(e)))})},O=()=>{const[e,s]=React.useState({}),{type:l="all"}=n(),t=React.useCallback((async()=>{const e=await A.get(`/arms/getArms?type=${l}`);s(e)}),[l]);React.useEffect((()=>{t()}),[t]);const c=React.useCallback((()=>{var s;return(null==(s=null==e?void 0:e.list)?void 0:s.length)?e.list.reduce(((e,s,l,t)=>{var c;const r=0===l||s.secondClass!==t[l-1].secondClass,n=l===t.length-1;return r&&e.push(a.jsx("div",{className:"divider px-8 mt-8",children:s.secondClassCN},`divider-${s.secondClassCN}`)),(n||(null==(c=t[l+1])?void 0:c.secondClass)!==s.secondClass)&&e.push(a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:t.slice(r?l:t.findIndex((e=>e.secondClass===s.secondClass)),l+1).map((e=>a.jsx(J,{data:e},e.id)))},`section-${l}`)),e}),[]):null}),[e.list]);return a.jsx("div",{className:"flex flex-col mb-5",children:(null==e?void 0:e.list)&&a.jsx(c,{})})},G=({gunDetail:e})=>a.jsx("div",{className:"w-40",children:[{value:e.capacity,label:`装弹量： ${e.capacity} 发`},{value:e.caliber,label:`口径： ${e.caliber}`},{value:e.fireMode,label:e.fireMode}].map((({value:e,label:s})=>e&&a.jsx("div",{className:"badge badge-outline collapse mb-1",children:s},s)))}),J=({data:e})=>a.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[a.jsx("figure",{style:{backgroundColor:v[e.grade-1]},className:"p-4",children:a.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("h2",{className:"card-title",children:[e.objectName,a.jsx("div",{className:"badge",style:{backgroundColor:v[e.grade-1]},children:e.secondClassCN})]}),a.jsx("p",{children:e.desc}),a.jsxs("div",{className:"card-actions justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{children:[e.weight,"kg"]}),a.jsx(I,{width:Number(e.width),length:Number(e.length)})]}),a.jsx(G,{gunDetail:e.gunDetail})]})]})]}),V=()=>{const[e,s]=React.useState({}),{type:l=""}=n();React.useEffect((()=>{(async()=>{const e=await A.get(`/protect/getProtect?type=${l}`);s(e)})()}),[l]);const t=(s,t)=>{const c=e[s];return l!==s&&l||!c?null:a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider px-8 mt-8",children:t}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:c.map((e=>a.jsx(H,{data:e},e.id+t)))})]})};return a.jsxs("div",{className:"flex flex-col mb-5",children:[t("helmet","头盔"),t("armor","护甲"),t("bag","背包"),t("chest","胸挂")]})},H=({data:e})=>{const s=(s,l)=>{const t=e.protectDetail[s];if(!t)return null;let c="";return"object"==typeof t?"percent"in t?c=`${t.percent||t.number}%`:"number"in t?c=`${t.number}%`:"value"in t&&(c=`${t.value}`):c=`${t} 格`,a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:[l,"： ",c]})};return a.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[a.jsx("figure",{style:{backgroundColor:v[e.grade-1]},className:"p-4",children:a.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("h2",{className:"card-title",children:[e.objectName,"mandel"!==e.secondClass&&a.jsx("div",{className:"badge",style:{backgroundColor:v[e.grade-1]},children:e.secondClassCN})]}),a.jsx("p",{children:e.desc}),a.jsxs("div",{className:"card-actions justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{children:[e.weight,"kg"]}),a.jsx(I,{width:Number(e.width),length:Number(e.length)})]}),a.jsxs("div",{className:"w-40",children:[s("capacity","容量"),s("durability","耐久"),s("protectArea","保护区域"),s("moveSpeed","移动速度"),s("aimSpeed","武器操作"),s("faceMask","影响")]})]})]})]})},Q=()=>{const[e,s]=React.useState({}),{type:l}=n(),t=React.useCallback((async()=>{const e=await A.get(`/accessories/getAccessories?type=${l||"all"}`);s(e)}),[l]);return React.useEffect((()=>{t()}),[t]),a.jsxs("div",{className:"flex flex-col mb-5",children:[a.jsx(W,{show:"accForeGrip"===l||!l,items:e.accForeGrip,title:"前握把"}),a.jsx(W,{show:"accFunctional"===l||!l,items:e.accFunctional,title:"功能性配件"})]})},W=({show:e,items:s,title:l})=>e&&s?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider px-8 mt-8",children:l}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:s.map((e=>a.jsx(U,{data:e},e.id)))})]}):null,U=({data:e})=>{const s={backgroundColor:v[e.grade-1]};return a.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[a.jsx("figure",{style:s,className:"p-4",children:a.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("h2",{className:"card-title",children:[e.objectName,"mandel"!==e.secondClass&&a.jsx("div",{className:"badge",style:s,children:e.secondClassCN})]}),a.jsx("p",{children:e.desc}),a.jsxs("div",{className:"card-actions justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{children:[e.weight,"kg"]}),a.jsx(I,{width:Number(e.width),length:Number(e.length)})]}),a.jsx("div",{className:"w-40"})]})]})]})},X=()=>{const{type:e="all"}=n(),[s,l]=React.useState([]),[t,c]=React.useState(null),[r,u]=React.useState(!0),[h,p]=React.useState(null),g=React.useCallback((a=>{var s;if("all"===e)return a;const l=null==(s=y.find((a=>a.key===e)))?void 0:s.label;return a.filter((e=>e.armyType===l))}),[e]),b=React.useCallback((async()=>{try{u(!0);const e=await A.get("/agent/getAgents"),a=g(e);l(a),p(null)}catch(e){p("获取特工数据失败")}finally{u(!1)}}),[g]);React.useEffect((()=>{c(s[0])}),[s]),React.useEffect((()=>{b()}),[b]),React.useEffect((()=>{l((e=>g(e)))}),[e,g]);return r?a.jsx("div",{className:"h-[1000px] flex items-center justify-center",children:"加载中..."}):h?a.jsx("div",{className:"h-[1000px] flex items-center justify-center text-red-500",children:h}):t?a.jsxs("div",{className:"h-full relative",children:[t&&a.jsxs("div",{className:"absolute left-4 bottom-4 z-10 bg-black/50 p-4 rounded-lg text-white w-80",children:[a.jsx("h2",{className:"text-2xl font-bold mb-2",children:t.operator}),a.jsx("p",{className:"text-sm text-gray-300 mb-4",children:t.fullName}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("img",{src:t.armyTypePic,alt:t.armyType,className:"w-6 h-6"}),a.jsx("span",{children:t.armyType})]}),a.jsx("p",{className:"text-sm text-gray-300",children:t.armyTypeDesc})]}),a.jsx("div",{className:"space-y-4",children:t.abilitiesList.map((e=>a.jsxs("div",{className:"flex gap-3",children:[a.jsx("img",{src:e.abilityPic,alt:e.abilityName,className:"w-12 h-12"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:e.abilityName}),a.jsx("p",{className:"text-sm text-gray-300",children:e.abilityDesc})]})]},e.abilityName)))})]}),a.jsx("img",{className:"object-contain absolute w-full h-full",src:t.pic,alt:t.operator,loading:"eager"}),a.jsx(i,{className:"w-8/12 relative bottom-[-8px] custom-swiper-navigation",spaceBetween:30,slidesPerView:5,navigation:!0,modules:[d,o,m],loop:!0,grabCursor:!0,pagination:{clickable:!0},keyboard:{enabled:!0},onSlideChange:e=>{const a=e.realIndex;c(s[a])},children:s.map((e=>{const s=t.id===e.id;return a.jsx(x,{children:a.jsxs("div",{onClick:()=>c(e),className:"cursor-pointer relative w-36 rounded-sm border transition-all duration-300 m-2\n                  "+(s?"border-[#f4cf67] scale-105":"border-transparent opacity-60 hover:opacity-90"),children:[a.jsx("img",{className:"w-36",src:e.prePic||e.pic,alt:e.operator,loading:"lazy"}),a.jsx("p",{className:"absolute bottom-1 left-1 text-white font-extralight text-sm drop-shadow-lg",children:e.operator})]})},e.id)}))})]}):null},Y=e=>new Date(e).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}),Z=e=>Number(e).toLocaleString("zh-CN"),ee=e=>1===e?"撤离成功":"撤离失败",ae=e=>1===e?"text-green-500":"text-red-500",se=({item:e})=>{var s;const l=React.useContext(B);return a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between bg-gray-800/80 backdrop-blur p-4 md:p-8 rounded-xl md:rounded-2xl shadow-lg hover:bg-gray-800/90 transition-all duration-300 border border-gray-700 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-3 md:space-x-8",children:[a.jsx("div",{className:"w-14 h-14 md:w-24 md:h-24 bg-gray-700 rounded-lg md:rounded-xl overflow-hidden shadow-md transform hover:scale-105 transition-transform duration-300",children:a.jsx("img",{src:null==(s=null==l?void 0:l.agentImg)?void 0:s[e.ArmedForceId],className:"h-full w-full object-cover",alt:""})}),a.jsxs("div",{className:"flex flex-col space-y-1.5 md:space-y-3",children:[a.jsxs("div",{className:"text-xs md:text-base text-gray-400 flex items-center space-x-2 md:space-x-3 font-medium",children:[a.jsx("span",{className:`${ae(e.EscapeFailReason)} bg-opacity-20 tracking-wider`,children:ee(e.EscapeFailReason)}),"   ",a.jsx("span",{className:"text-gray-100 font-semibold tracking-wide",children:null==l?void 0:l.agentName[e.ArmedForceId]})]}),a.jsxs("div",{className:"text-xs md:text-base text-gray-400 flex items-center space-x-2 md:space-x-3 font-medium",children:[a.jsx("span",{children:"烽火地带"}),a.jsx("span",{className:"text-gray-600",children:"|"}),a.jsx("span",{className:"text-gray-300",children:(c=e.MapId,(null==(r=null==l?void 0:l.mapName)?void 0:r[c])||"未知地图")})]})]})]}),a.jsxs("div",{className:"flex flex-col space-y-2 w-full md:w-auto",children:[a.jsxs("div",{className:"text-gray-300 text-xs md:text-base space-y-0.5 md:space-y-1 md:text-right",children:[a.jsxs("div",{className:"flex items-center justify-between md:justify-end md:space-x-2",children:[a.jsx("span",{className:"text-gray-400",children:"开始时间："}),a.jsx("span",{children:Y(e.dtEventTime)})]}),a.jsxs("div",{className:"flex items-center justify-between md:justify-end md:space-x-2",children:[a.jsx("span",{className:"text-gray-400",children:"游戏时长："}),a.jsx("span",{children:D(e.DurationS)})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-2 md:gap-4 md:flex md:items-center md:space-x-8",children:[a.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[a.jsx("span",{className:"text-gray-400 text-[10px] md:text-sm mb-0.5 md:mb-1",children:"击杀玩家"}),a.jsx("span",{className:"text-base md:text-xl font-bold tracking-wider",children:e.KillCount})]}),a.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[a.jsx("span",{className:"text-gray-400 text-[10px] md:text-sm mb-0.5 md:mb-1",children:"收益"}),a.jsx("span",{className:"text-base md:text-xl font-bold text-yellow-500 tracking-wider",children:Z(e.FinalPrice)})]}),a.jsxs("div",{className:"flex flex-col items-center md:items-end",children:[a.jsx("span",{className:"text-gray-400 text-[10px] md:text-sm mb-0.5 md:mb-1",children:"净收益"}),a.jsx("span",{className:`text-base md:text-xl font-bold ${t=e.flowCalGainedPrice,t>0?"text-green-500":"text-red-500"} tracking-wider`,children:Z(e.flowCalGainedPrice)})]})]})]})]});var t,c,r},le=e=>{const a=Math.floor(Number(e)/60);return`${Math.floor(a/60)}h${a%60}m`},te=({data:e,assets:s})=>{var l;const t=React.useContext(B),c=null==(l=N.find((e=>e.value===(null==t?void 0:t.seasonid))))?void 0:l.label;if(!e||!(null==e?void 0:e.careerData)||!(null==e?void 0:e.userData))return null;const{careerData:r,userData:n}=e;return a.jsxs("div",{className:"bg-gray-800/80 backdrop-blur p-4 md:p-8 rounded-xl md:rounded-2xl shadow-lg border border-gray-700",children:[a.jsx("div",{className:"flex flex-col space-y-4",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 overflow-hidden bg-gray-700",children:a.jsx("img",{src:(i=null==n?void 0:n.picurl,Number.isNaN(Number(i))?decodeURIComponent(i):`https://playerhub.df.qq.com/playerhub/60004/object/${i}.png`),alt:null==n?void 0:n.charac_name,className:"w-full h-full"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-white",children:decodeURIComponent(null==n?void 0:n.charac_name)}),a.jsxs("p",{className:"text-gray-400",children:[c,"赛季  ",(e=>{const a=Number(e),s=(null==t?void 0:t.rank)||{},l=Object.entries(s).sort(((e,a)=>Number(e[0])-Number(a[0])));for(const[t,c]of l)if(a<=Number(t))return c;return s[6e3]||"未知段位"})(null==r?void 0:r.rankpoint)," (",null==r?void 0:r.rankpoint,")"]}),s&&a.jsxs("div",{className:"flex items-center justify-between px-2 py-1 bg-gray-700/30 rounded-lg space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:"https://game.gtimg.cn/images/dfm/cp/a20240807community/profile/fund_icon_01.png",alt:"三角币",className:"w-5 h-5"}),a.jsx("span",{className:"text-yellow-500",children:Number(s[0]).toLocaleString()})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:"https://game.gtimg.cn/images/dfm/cp/a20240807community/profile/fund_icon_02.png",alt:"三角券",className:"w-5 h-5"}),a.jsx("span",{className:"text-blue-500",children:Number(s[1]).toLocaleString()})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("img",{src:"https://game.gtimg.cn/images/dfm/cp/a20240807community/swat/swat_gold_icon.png",alt:"哈夫币",className:"w-5 h-5"}),a.jsx("span",{className:"text-green-500",children:Number(s[2]).toLocaleString()})]})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-4 mt-6",children:[a.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"对局数"}),a.jsx("p",{className:"text-base font-bold text-white",children:r.soltotalfght})]}),a.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"成功撤离"}),a.jsx("p",{className:"text-base font-bold text-green-500",children:r.solttotalescape})]}),a.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"游戏时长"}),a.jsx("p",{className:"text-base font-bold text-green-500",children:le(r.solduration)})]}),a.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"撤离率"}),a.jsx("p",{className:"text-base font-bold text-green-500",children:r.solescaperatio})]}),a.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"击败干员"}),a.jsx("p",{className:"text-base font-bold text-yellow-500",children:r.soltotalkill})]}),a.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-400",children:"KD"}),a.jsx("p",{className:"text-base font-bold text-blue-500",children:(Number(r.soltotalkill)/Number(r.soltotalfght)).toFixed(2)})]})]})]});var i},ce=()=>{const e=React.useContext(B),[a,s]=React.useState([]),[l,t]=React.useState(),[c,r]=React.useState(),[n,i]=React.useState(!0),[d,o]=React.useState(!1),[m,x]=React.useState(!0),[u,h]=React.useState(1),[p,g]=React.useState((null==e?void 0:e.seasonid)||"3"),[b,j]=React.useState((null==e?void 0:e.ck)||w[0].value),f=React.useCallback((async e=>{try{const a=await(async e=>{try{return await A.get("/info/getAssets"+(e?"?ck="+e:""))}catch(a){return null}})(e||b);a&&(r(a),i(!1))}catch(a){}}),[b]),v=React.useCallback((async(e,a)=>{try{const s=await(async(e,a)=>{try{return await A.get(`/info/getSeason?seasonid=${e||1}${a?"&ck="+a:""}`)}catch(s){return null}})(e,a||b);s&&(t(s),i(!1))}catch(s){}}),[b]),y=React.useCallback((async(e,a)=>{i(1===e),o(!0);try{const l=await(async(e,a)=>{try{return await A.get(`/info/getInfo?page=${e||1}${a?"&ck="+a:""}`)}catch(s){return[]}})(e.toString(),a||b);s((a=>1===e?l:[...a,...l])),(!l||l.length<50)&&x(!1)}catch(l){}finally{i(!1),o(!1)}}),[b]);React.useEffect((()=>{(async()=>{try{await Promise.all([v(p),y(1),f()])}catch(e){}finally{i(!1)}})()}),[]);const N=React.useCallback((a=>{var l;localStorage.setItem("ck",a),null==(l=null==e?void 0:e.updateConfig)||l.call(e,{ck:a}),j(a),s([]),h(1),x(!0),Promise.all([v(p,a),y(1,a),f(a)])}),[p,v,y,f,e]),k=React.useCallback((a=>{var s;localStorage.setItem("seasonid",a),null==(s=null==e?void 0:e.updateConfig)||s.call(e,{seasonid:a}),g(a),v(a)}),[e,v]),C=React.useCallback((()=>{u>1&&y(u)}),[u,y]),_=React.useCallback((async()=>{h(1),await Promise.all([v(),y(1),f()])}),[v,y,f]);return{data:a,careerData:l,assets:c,loading:n,isFetchList:d,hasMore:m,page:u,setPage:h,seasonid:p,ck:b,fetchAssetData:f,fetchCareerData:v,fetchAccessories:y,changeCk:N,changeSeasonId:k,loadMore:C,refresh:_}},re=({selectedMap:e,setSelectedMap:s,seasonid:l,changeSeasonId:t,ck:c,changeCk:r})=>{const n=React.useContext(B),i=[{value:"all",label:"全部地图"},...Object.entries((null==n?void 0:n.mapName)||{}).map((([e,a])=>({value:e,label:a}))).filter((e=>Number(e.value)>1e3))];return a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i&&a.jsx("select",{value:e,onChange:e=>s(e.target.value),className:"bg-gray-800 text-white pl-2 pr-1 py-1 rounded-lg border border-gray-700 focus:outline-none focus:border-blue-500",children:i.map((e=>a.jsx("option",{value:e.value,children:e.label},e.value)))}),N&&a.jsx("select",{value:l,onChange:e=>t(e.target.value),className:"bg-gray-800 text-white pl-2 pr-1 py-1 rounded-lg border border-gray-700 focus:outline-none focus:border-blue-500",children:N.map((e=>a.jsx("option",{value:e.value,children:e.label},e.value)))}),w&&a.jsx("select",{value:c,onChange:e=>r(e.target.value),className:"bg-gray-800 text-white pl-2 pr-1 py-1 rounded-lg border border-gray-700 focus:outline-none focus:border-blue-500",children:null==w?void 0:w.filter((e=>"custom"!==e.value)).map((e=>a.jsx("option",{value:e.value,children:e.label},e.value)))})]})},ne=(e,s)=>{switch(e){case"pulling":return a.jsxs("div",{children:["下拉即可刷新 ",a.jsx("span",{style:{color:"green"},children:`${s.toFixed(0)}%`})]});case"canRelease":return"释放即可刷新...";case"refreshing":return"刷新中";case"complete":return"刷新成功";default:return""}},ie=()=>{const e=s(),l=React.useRef(null),{ref:t,inView:c}=u(),r=React.useContext(B),[n,i]=React.useState("all"),[d,o]=React.useState(!1),{data:m,careerData:x,assets:p,loading:g,isFetchList:b,hasMore:j,setPage:f,seasonid:v,ck:y,changeCk:N,changeSeasonId:w,refresh:k}=ce(),C=React.useMemo((()=>m.filter((e=>"all"===n||e.MapId===n))),[m,n]);if(React.useEffect((()=>{c&&!b&&f((e=>e+1))}),[c,b,f]),g)return a.jsx("div",{className:"flex items-center justify-center h-full bg-gray-900",children:a.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[a.jsx("div",{className:"w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),a.jsx("span",{className:"text-gray-400",children:"加载中..."})]})});return a.jsx(h,{refreshing:d,onRefresh:async()=>{o(!0),await k(),o(!1)},renderText:ne,children:a.jsxs("div",{ref:l,className:"flex flex-col space-y-2 md:space-y-6 p-4 md:p-6 bg-gray-900 text-white min-h-screen overflow-y-auto",children:[a.jsx(re,{selectedMap:n,setSelectedMap:i,seasonid:v,changeSeasonId:w,ck:y,changeCk:N}),x&&a.jsx(te,{data:x,assets:p}),null==C?void 0:C.map(((s,l)=>a.jsx("div",{onClick:()=>{return a=s.teammateArr,null==(l=null==r?void 0:r.updateConfig)||l.call(r,{teammateArr:a}),void e("/match");var a,l},className:"cursor-pointer pt-1",children:a.jsx(se,{item:s})},s.dtEventTime+l))),c&&j&&a.jsx("div",{className:"flex justify-center pt-4",children:a.jsx("div",{className:"w-8 h-8 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"})}),a.jsx("div",{ref:t,style:{height:"1px"}}),!j&&C.length>0&&a.jsx("div",{className:"text-center text-gray-500 pb-4",children:"没有更多数据了"})]})})},de=()=>a.jsx("iframe",{src:"https://df.qq.com/cp/a20240729directory",title:"a20240729directory",className:"w-full h-full"}),oe=()=>{const e=React.useContext(B),[s,l]=React.useState((null==e?void 0:e.ck)||w[0].value),[t,c]=React.useState((null==e?void 0:e.seasonid)||"3"),[r,n]=React.useState(""),i=React.useCallback((async()=>{var a;try{s&&localStorage.setItem("ck","custom"===s?r:s),t&&localStorage.setItem("seasonid",t),s&&t&&(null==(a=null==e?void 0:e.updateConfig)||a.call(e,{ck:s,seasonid:t}))}catch(l){}}),[s,r,t]),d=React.useMemo((()=>"custom"===s),[s]);return React.useEffect((()=>{!d&&i()}),[s,i,d,t]),a.jsxs("div",{className:"p-6 max-w-2xl mx-auto",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"设置"}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"ck",className:"block text-sm font-medium",children:"CK"}),a.jsx("select",{id:"ck",value:s,onChange:e=>l(e.target.value),className:"w-full p-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:w.map((e=>a.jsx("option",{value:e.value,children:e.label},e.value)))}),d&&a.jsx("input",{type:"text",value:r,onChange:e=>n(e.target.value),placeholder:"请输入自定义CK",className:"mt-2 w-full p-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"seasonid",className:"block text-sm font-medium",children:"Season ID"}),a.jsx("select",{id:"seasonid",value:t,onChange:e=>c(e.target.value),className:"w-full p-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:border-blue-500 focus:ring-1 focus:ring-blue-500",children:N.map((e=>a.jsx("option",{value:e.value,children:e.label},e.value)))})]}),d&&a.jsx("button",{onClick:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"保存设置"})]})]})},me=()=>{const e=React.useContext(B),s=null==e?void 0:e.teammateArr;if(!s)return a.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-900 text-gray-400",children:"未找到对局数据"});return a.jsx("div",{className:"h-full bg-gray-900 text-white p-4 md:p-6",children:a.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[a.jsxs("div",{className:"bg-gray-800/80 backdrop-blur p-4 rounded-xl border border-gray-700",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"对局信息"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"对局时间"}),a.jsx("p",{className:"font-medium",children:Y(s[0].dtEventTime)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"地图"}),a.jsx("p",{className:"font-medium",children:(l=s[0].MapId,(null==(t=null==e?void 0:e.mapName)?void 0:t[l])||"未知地图")})]})]})]}),a.jsxs("div",{className:"bg-gray-800/80 backdrop-blur p-4 rounded-xl border border-gray-700",children:[a.jsx("h2",{className:"text-xl font-bold mb-4",children:"队伍成员"}),a.jsx("div",{className:"grid gap-4",children:s.map(((s,l)=>{var t,c;return a.jsxs("div",{className:"bg-gray-700/50 p-4 rounded-lg grid grid-cols-3 md:grid-cols-4 gap-4",children:[a.jsx("div",{className:"w-14 h-14 md:w-24 md:h-24 bg-gray-700 overflow-hidden shadow-md transform hover:scale-105 transition-transform duration-300",children:a.jsx("img",{src:null==(t=null==e?void 0:e.agentImg)?void 0:t[s.ArmedForceId],className:"h-full w-full object-cover",alt:""})}),a.jsxs("div",{children:[a.jsx("p",{className:`font-medium ${ae(s.EscapeFailReason)}`,children:ee(s.EscapeFailReason)}),a.jsx("p",{className:"text-gray-100 font-semibold tracking-wide",children:null==e?void 0:e.agentName[s.ArmedForceId]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"击杀玩家"}),a.jsx("p",{className:"font-medium text-yellow-500",children:s.KillCount})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"游戏时长"}),a.jsx("p",{className:"font-medium text-blue-500",children:(c=s.DurationS,`${Math.floor(c/60)}分${c%60}秒`)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"救助/复活"}),a.jsx("p",{className:"font-medium text-purple-500",children:s.Rescue})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-400",children:"收益"}),a.jsx("p",{className:"font-medium text-yellow-500",children:Z(s.FinalPrice)})]})]},s.TeamId+l)}))})]})]})});var l,t},xe=p([{path:"/",element:a.jsx(L,{}),children:[{path:"/",element:a.jsx(ie,{})},{path:"/info",element:a.jsx(ie,{})},{path:"/match",element:a.jsx(me,{})},{path:"/props/:type?",element:a.jsx(K,{})},{path:"/agent/:type?",element:a.jsx(X,{})},{path:"/arms/:type?",element:a.jsx(O,{})},{path:"/protect/:type?",element:a.jsx(V,{})},{path:"/acc/:type?",element:a.jsx(Q,{})},{path:"/map",element:a.jsx(de,{})},{path:"/setting",element:a.jsx(oe,{})}]},{path:"*",element:a.jsx(g,{to:"/",replace:!0})}]),ue=document.getElementById("root");if(ue){ReactDOM.createRoot(ue).render(a.jsxs(React.StrictMode,{children:[a.jsx(b,{router:xe}),a.jsx(j,{})]}))}
