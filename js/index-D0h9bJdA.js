import{t as e,j as l,u as a,a as s,L as t,I as c,N as i,O as r,b as d,c as n,d as o,R as p}from"./.pnpm-ZXEEjfi5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&l(e)})).observe(document,{childList:!0,subtree:!0})}function l(e){if(e.ep)return;e.ep=!0;const l=function(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?l.credentials="include":"anonymous"===e.crossOrigin?l.credentials="omit":l.credentials="same-origin",l}(e);fetch(e.href,l)}}();const m=()=>{const[a,s]=React.useState(!1);return React.useEffect((()=>{const l=e((()=>{document.documentElement.scrollTop>500||document.body.scrollTop>500?s(!0):s(!1)}),100);return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)}),[]),a&&l.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-4 p-2 bg-background-secondary text-text-primary rounded-md hover:bg-background-secondary/90 focus:outline-none border border-border",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 transform rotate-180",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l-7-7h3.5V5.5a2.25 2.25 0 0 1 4.5 0V12h3.5L12 19z"})})})},u=()=>l.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen w-full",children:l.jsx("span",{className:"loading loading-spinner loading-lg"})}),h=[{key:"agent",label:"干员",children:[{key:"assault",label:"突击"},{key:"project",label:"工程"},{key:"support",label:"支援"},{key:"scout",label:"侦察"}]},{key:"props",label:"道具",children:[{key:"collection",label:"收集品"},{key:"consume",label:"消耗品"},{key:"key",label:"钥匙"},{key:"mandel",label:"曼德尔砖"}]},{key:"arms",label:"武器",children:[{key:"gunRifle",label:"步枪"},{key:"gunSMG",label:"冲锋枪"},{key:"gunPistol",label:"手枪"},{key:"gunLMG",label:"轻机枪"},{key:"gunSniper",label:"狙击步枪"},{key:"gunMP",label:"精确射手步枪"},{key:"gunShotgun",label:"霰弹枪"}]},{key:"protect",label:"装备",children:[{key:"helmet",label:"头盔"},{key:"chest",label:"胸挂"},{key:"armor",label:"护甲"},{key:"bag",label:"背包"}]},{key:"acc",label:"配件",children:[{key:"accForeGrip",label:"前握把"},{key:"accFunctional",label:"功能性配件"},{key:"accBackGrip",label:"后握把"},{key:"accMagazine",label:"弹匣"},{key:"accHandGuard",label:"护木"},{key:"accMuzzle",label:"枪口"},{key:"accStock",label:"枪托"},{key:"accBarrel",label:"枪管"},{key:"accScope",label:"瞄具"}]},{key:"secret",label:"特勤处",children:[{key:"upgrade",label:"升级"},{key:"making",label:"制造"}]}],x=()=>{const e=a(),t=s(),{pathname:c}=t,i=c.replace(/^\//,"").split("/"),[r,d]=React.useState(i.length>0?i[i.length-1]:"agent");return n=h,l.jsx("ul",{className:"menu bg-base-200 p-0 [&_li>*]:rounded-none",children:n.map((a=>l.jsxs("li",{onClick:()=>{d(a.key),e(`/${a.key}`)},children:[l.jsx("a",{className:r===a.key?"active":"",children:a.label}),a.children&&l.jsx("ul",{children:a.children.map((({key:s,label:t,children:c})=>l.jsxs("li",{onClick:l=>{d(s),e(`/${a.key}/${s}`),l.stopPropagation()},children:[l.jsx("a",{className:r===s?"active":"",children:t}),c&&l.jsx("ul",{children:c.map((({key:t,label:c})=>l.jsx("li",{onClick:l=>{d(t),e(`/${a.key}/${s}/${t}`),l.stopPropagation()},children:l.jsx("a",{className:r===s?"active":"",children:c})},t)))})]},s)))})]},a.key)))});var n},b=()=>l.jsx("ul",{className:"navbar bg-base-100 text-base-content fixed top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-shadow duration-100 shadow-sm p-3 bg-background/95 supports-[backdrop-filter]:bg-background/40",children:l.jsx("li",{children:l.jsx(t,{to:"/",className:"text-2xl font-bold",children:l.jsx(c,{height:20,preview:!1,src:"https://game.gtimg.cn/images/dfm/cp/a20240906fab/s1_logo.png"})})})});function v(){const[e,a]=React.useState(!0);return React.useEffect((()=>{i.start(),setTimeout((()=>{a(!1),i.done()}),1e3)}),[]),l.jsxs(l.Fragment,{children:[l.jsx(b,{}),l.jsxs("main",{className:"container max-w-[100vw] pt-[64px] flex h-[100vh] overflow-y-hidden",children:[l.jsx("div",{className:"w-[160px] min-h-[100vh] overflow-y-auto",children:l.jsx(x,{})}),l.jsx("div",{className:"min-h-[100vh - 64px] w-[calc(100vw-160px)] overflow-y-auto",children:e?l.jsx(u,{}):l.jsx(r,{})})]})]})}const g=["#748084","#238d6f","#3a749f","#6c57a0","#8a5e3e","#97434c"],j=({width:e,length:a})=>l.jsx("div",{children:(()=>{const s=[];for(let t=0;t<4;t++){const c=[];for(let s=0;s<7;s++){const i={width:"8px",height:"8px",border:"1px solid black",display:"inline-block",backgroundColor:t<e&&s<a?"black":"transparent",marginRight:1};c.push(l.jsx("div",{style:i},`${t}-${s}`))}s.push(l.jsx("div",{style:{height:8,marginBottom:1},children:c},t))}return s})()}),y=axios.create({baseURL:"https://novel-api-psi.vercel.app",timeout:0});y.interceptors.request.use((e=>(i.start(),e)),(e=>(i.done(),Promise.reject(e)))),y.interceptors.response.use((e=>{i.done();const{code:l,message:a,data:s}=e.data;return 0===l||1===l||200===l?s:Promise.reject(new Error(a))}),(e=>{var l;i.done();let a="";switch(null==(l=e.response)?void 0:l.status){case 401:a="token 失效，请重新登录";break;case 403:a="拒绝访问";break;case 404:a="请求地址错误";break;case 500:a="服务器故障";break;default:a="网络连接故障"}return Promise.reject(e)}));const f={get:(e,l)=>y.get(e,l),post:(e,l,a)=>y.post(e,l,a),put:(e,l,a)=>y.put(e,l,a),delete:(e,l)=>y.delete(e,l)},N=()=>{var e,a,s,t;const[c,i]=React.useState({}),{type:r="collection"}=d(),n=React.useCallback((async()=>{const e=await f.get(`/props/getProps?type=${r}`);i(e)}),[r]);return React.useEffect((()=>{n()}),[n]),l.jsxs("div",{className:"flex flex-col mb-5",children:[("collection"===r||!r)&&c.collection&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"divider px-8 mt-8",children:"收集品"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:null==(e=c.collection)?void 0:e.map((e=>l.jsx(k,{data:e},e.id)))})]}),("consume"===r||!r)&&c.consume&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"divider px-8 mt-8",children:"消耗品"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:null==(a=c.consume)?void 0:a.map((e=>l.jsx(k,{data:e},e.id)))})]}),("key"===r||!r)&&c.key&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"divider px-8 mt-8",children:"钥匙"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:null==(s=c.key)?void 0:s.map((e=>l.jsx(k,{data:e},e.id)))})]}),("mandel"===r||!r)&&c.mandel&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"divider px-8 mt-8",children:"曼德尔砖"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:c&&(null==(t=c.mandel)?void 0:t.map((e=>l.jsx(k,{data:e},e.id))))})]})]})},k=({data:e})=>{var a;return l.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[l.jsx("figure",{style:{backgroundColor:g[e.grade-1]},className:"p-4",children:l.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("h2",{className:"card-title",children:[e.objectName,"mandel"!==e.secondClass&&l.jsx("div",{className:"badge",style:{backgroundColor:g[e.grade-1]},children:e.secondClassCN})]}),l.jsx("p",{children:e.desc}),l.jsxs("div",{className:"card-actions justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{children:[e.weight,"kg"]}),l.jsx(j,{width:Number(e.width),length:Number(e.length)})]}),l.jsxs("div",{className:"w-40 h-full",children:[e.propsDetail.type&&l.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.propsDetail.type}),(null==(a=null==e?void 0:e.propsDetail)?void 0:a.propsSource)&&e.propsDetail.propsSource.split(",").map((e=>l.jsx("div",{className:"badge badge-outline collapse mb-1",children:e},e))),e.propsDetail.useMap&&l.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.propsDetail.usePlace}),e.propsDetail.usePlace&&l.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.propsDetail.usePlace}),e.propsDetail.durability&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:[e.propsDetail.durability,"次"]}),e.propsDetail.replyEffect&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.replyEffect]}),e.propsDetail.hearEnhance&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.hearEnhance]}),e.propsDetail.bearEnhance&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.bearEnhance]}),e.propsDetail.bodyCapacity&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.bodyCapacity]}),e.propsDetail.repairPoints&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["修理点：",e.propsDetail.repairPoints]}),e.propsDetail.availableCount&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["可用次数：",e.propsDetail.availableCount]}),e.propsDetail.activeTime&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["持续时间：",e.propsDetail.activeTime]})]})]})]})]})},w=()=>{const[e,a]=React.useState({}),{type:s="all"}=d(),t=React.useCallback((async()=>{const e=await f.get(`/arms/getArms?type=${s}`);a(e)}),[s]);React.useEffect((()=>{t()}),[t]);const c=React.useCallback((()=>{var a;if(!(null==e?void 0:e.list)||(null==(a=null==e?void 0:e.list)?void 0:a.length)<1)return null;const s=[l.jsx("div",{className:"divider px-8 mt-8",children:e.list[0].secondClassCN},e.list[0].secondClassCN)];let t=[];return null==e||e.list.forEach(((e,a,c)=>{a<c.length-1&&e.secondClass!==c[a+1].secondClass||a===c.length-2&&e.secondClass===c[a+1].secondClass?(t.push(l.jsx(D,{data:e},e.id)),s.push(l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:t.map((e=>e))},a)),e.secondClass!==c[a+1].secondClass&&s.push(l.jsx("div",{className:"divider px-8 mt-8",children:c[a+1].secondClassCN},c[a+1].secondClassCN)),t=[]):t.push(l.jsx(D,{data:e},e.id))})),s}),[e.list]);return l.jsx("div",{className:"flex flex-col mb-5",children:(null==e?void 0:e.list)&&l.jsx(c,{})})},D=({data:e})=>{var a,s,t;return l.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[l.jsx("figure",{style:{backgroundColor:g[e.grade-1]},className:"p-4",children:l.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("h2",{className:"card-title",children:[e.objectName,"mandel"!==e.secondClass&&l.jsx("div",{className:"badge",style:{backgroundColor:g[e.grade-1]},children:e.secondClassCN})]}),l.jsx("p",{children:e.desc}),l.jsxs("div",{className:"card-actions justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{children:[e.weight,"kg"]}),l.jsx(j,{width:Number(e.width),length:Number(e.length)})]}),l.jsxs("div",{className:"w-40",children:[(null==(a=null==e?void 0:e.gunDetail)?void 0:a.capacity)&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["装弹量： ",e.gunDetail.capacity," 发"]}),(null==(s=null==e?void 0:e.gunDetail)?void 0:s.caliber)&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["口径： ",e.gunDetail.caliber]}),(null==(t=null==e?void 0:e.gunDetail)?void 0:t.fireMode)&&l.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.gunDetail.fireMode})]})]})]})]})},C=()=>{var e,a,s,t;const[c,i]=React.useState({}),{type:r=""}=d(),n=React.useCallback((async()=>{const e=await f.get(`/protect/getProtect?type=${r}`);i(e)}),[r]);return React.useEffect((()=>{n()}),[n]),l.jsxs("div",{className:"flex flex-col mb-5",children:[("helmet"===r||!r)&&c.helmet&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"divider px-8 mt-8",children:"头盔"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:null==(e=c.helmet)?void 0:e.map((e=>l.jsx(R,{data:e},e.id)))})]}),("armor"===r||!r)&&c.armor&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"divider px-8 mt-8",children:"护甲"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:null==(a=c.armor)?void 0:a.map((e=>l.jsx(R,{data:e},e.id)))})]}),("bag"===r||!r)&&c.bag&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"divider px-8 mt-8",children:"背包"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:null==(s=c.bag)?void 0:s.map((e=>l.jsx(R,{data:e},e.id)))})]}),("chest"===r||!r)&&c.chest&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"divider px-8 mt-8",children:"胸挂"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:null==(t=c.chest)?void 0:t.map((e=>l.jsx(R,{data:e},e.id)))})]})]})},R=({data:e})=>{var a,s,t,c,i,r,d,n,o,p,m,u,h,x,b,v;return l.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[l.jsx("figure",{style:{backgroundColor:g[e.grade-1]},className:"p-4",children:l.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("h2",{className:"card-title",children:[e.objectName,"mandel"!==e.secondClass&&l.jsx("div",{className:"badge",style:{backgroundColor:g[e.grade-1]},children:e.secondClassCN})]}),l.jsx("p",{children:e.desc}),l.jsxs("div",{className:"card-actions justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{children:[e.weight,"kg"]}),l.jsx(j,{width:Number(e.width),length:Number(e.length)})]}),l.jsxs("div",{className:"w-40",children:[(null==(a=null==e?void 0:e.protectDetail)?void 0:a.capacity)&&"object"!=typeof(null==(s=null==e?void 0:e.protectDetail)?void 0:s.capacity)&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["容量： ",e.protectDetail.capacity," 格"]}),(null==(t=null==e?void 0:e.protectDetail)?void 0:t.durability)&&"object"!=typeof(null==(c=null==e?void 0:e.protectDetail)?void 0:c.durability)&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["耐久： ",null==(i=null==e?void 0:e.protectDetail)?void 0:i.durability]}),(null==(r=null==e?void 0:e.protectDetail)?void 0:r.protectArea)&&"object"!=typeof(null==(d=null==e?void 0:e.protectDetail)?void 0:d.protectArea)&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["保护区域： ",null==(n=null==e?void 0:e.protectDetail)?void 0:n.protectArea]}),(null==(o=null==e?void 0:e.protectDetail)?void 0:o.moveSpeed)&&"string"!=typeof(null==(p=null==e?void 0:e.protectDetail)?void 0:p.moveSpeed)&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["移动速度： ",null==(u=null==(m=null==e?void 0:e.protectDetail)?void 0:m.moveSpeed)?void 0:u.percent,"%"]}),(null==(h=null==e?void 0:e.protectDetail)?void 0:h.faceMask)&&"string"!=typeof(null==(x=null==e?void 0:e.protectDetail)?void 0:x.faceMask)&&l.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["影响： ",null==(v=null==(b=null==e?void 0:e.protectDetail)?void 0:b.faceMask)?void 0:v.value]})]})]})]})]})},E=n([{path:"/",element:l.jsx(v,{}),children:[{path:"/props",element:l.jsx(N,{})},{path:"/props/:type",element:l.jsx(N,{})},{path:"/arms",element:l.jsx(w,{})},{path:"/arms/:type",element:l.jsx(w,{})},{path:"/protect",element:l.jsx(C,{})},{path:"/protect/:type",element:l.jsx(C,{})}]},{path:"*",element:l.jsx(o,{to:"/"})}]),S=document.getElementById("root");if(S){ReactDOM.createRoot(S).render(l.jsxs(React.StrictMode,{children:[l.jsx(p,{router:E}),l.jsx(m,{})]}))}
