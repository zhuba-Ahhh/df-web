import{t as e,j as a,u as l,a as s,L as t,I as c,N as r,O as i,b as n,c as o,d,R as p}from"./.pnpm-ZXEEjfi5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const m=()=>{const[l,s]=React.useState(!1);return React.useEffect((()=>{const a=e((()=>{document.documentElement.scrollTop>500||document.body.scrollTop>500?s(!0):s(!1)}),100);return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)}),[]),l&&a.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-4 p-2 bg-background-secondary text-text-primary rounded-md hover:bg-background-secondary/90 focus:outline-none border border-border",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 transform rotate-180",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l-7-7h3.5V5.5a2.25 2.25 0 0 1 4.5 0V12h3.5L12 19z"})})})},h=()=>a.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen w-full",children:a.jsx("span",{className:"loading loading-spinner loading-lg"})}),u=[{key:"agent",label:"干员",children:[{key:"assault",label:"突击"},{key:"project",label:"工程"},{key:"support",label:"支援"},{key:"scout",label:"侦察"}]},{key:"props",label:"道具",children:[{key:"collection",label:"收集品"},{key:"consume",label:"消耗品"},{key:"key",label:"钥匙"},{key:"mandel",label:"曼德尔砖"}]},{key:"arms",label:"武器",children:[{key:"gunRifle",label:"步枪"},{key:"gunSMG",label:"冲锋枪"},{key:"gunPistol",label:"手枪"},{key:"gunLMG",label:"轻机枪"},{key:"gunSniper",label:"狙击步枪"},{key:"gunMP",label:"精确射手步枪"},{key:"gunShotgun",label:"霰弹枪"}]},{key:"protect",label:"装备",children:[{key:"helmet",label:"头盔"},{key:"chest",label:"胸挂"},{key:"armor",label:"护甲"},{key:"bag",label:"背包"}]},{key:"acc",label:"配件",children:[{key:"accForeGrip",label:"前握把"},{key:"accFunctional",label:"功能性配件"},{key:"accBackGrip",label:"后握把"},{key:"accMagazine",label:"弹匣"},{key:"accHandGuard",label:"护木"},{key:"accMuzzle",label:"枪口"},{key:"accStock",label:"枪托"},{key:"accBarrel",label:"枪管"},{key:"accScope",label:"瞄具"}]},{key:"secret",label:"特勤处",children:[{key:"upgrade",label:"升级"},{key:"making",label:"制造"}]}],b=()=>{const e=l(),t=s(),{pathname:c}=t,r=c.replace(/^\//,"").split("/"),[i,n]=React.useState(r.length>0?r[r.length-1]:"agent");return o=u,a.jsx("ul",{className:"menu bg-base-200 p-0 [&_li>*]:rounded-none",children:o.map((l=>a.jsxs("li",{onClick:()=>{n(l.key),e(`/${l.key}`)},children:[a.jsx("a",{className:i===l.key?"active":"",children:l.label}),l.children&&a.jsx("ul",{children:l.children.map((({key:s,label:t,children:c})=>a.jsxs("li",{onClick:a=>{n(s),e(`/${l.key}/${s}`),a.stopPropagation()},children:[a.jsx("a",{className:i===s?"active":"",children:t}),c&&a.jsx("ul",{children:c.map((({key:t,label:c})=>a.jsx("li",{onClick:a=>{n(t),e(`/${l.key}/${s}/${t}`),a.stopPropagation()},children:a.jsx("a",{className:i===s?"active":"",children:c})},t)))})]},s)))})]},l.key)))});var o},x=()=>a.jsx("ul",{className:"navbar bg-base-100 text-base-content fixed top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-shadow duration-100 shadow-sm p-3 bg-background/95 supports-[backdrop-filter]:bg-background/40",children:a.jsx("li",{children:a.jsx(t,{to:"/",className:"text-2xl font-bold",children:a.jsx(c,{height:20,preview:!1,src:"https://game.gtimg.cn/images/dfm/cp/a20240906fab/s1_logo.png"})})})});function g(){const[e,l]=React.useState(!0);return React.useEffect((()=>{r.start(),setTimeout((()=>{l(!1),r.done()}),1e3)}),[]),a.jsxs(a.Fragment,{children:[a.jsx(x,{}),a.jsxs("main",{className:"container max-w-[100vw] pt-[64px] flex h-[100vh] overflow-y-hidden",children:[a.jsx("div",{className:"w-[160px] min-h-[100vh] overflow-y-auto",children:a.jsx(b,{})}),a.jsx("div",{className:"min-h-[100vh - 64px] w-[calc(100vw-160px)] overflow-y-auto",children:e?a.jsx(h,{}):a.jsx(i,{})})]})]})}const j=["#748084","#238d6f","#3a749f","#6c57a0","#8a5e3e","#97434c"],y=({width:e,length:l})=>a.jsx("div",{children:(()=>{const s=[];for(let t=0;t<4;t++){const c=[];for(let s=0;s<7;s++){const r={width:"8px",height:"8px",border:"1px solid black",display:"inline-block",backgroundColor:t<e&&s<l?"black":"transparent",marginRight:1};c.push(a.jsx("div",{style:r},`${t}-${s}`))}s.push(a.jsx("div",{style:{height:8,marginBottom:1},children:c},t))}return s})()}),v=axios.create({baseURL:"https://novel-api-psi.vercel.app",timeout:0});v.interceptors.request.use((e=>(r.start(),e)),(e=>(r.done(),Promise.reject(e)))),v.interceptors.response.use((e=>{r.done();const{code:a,message:l,data:s}=e.data;return 0===a||1===a||200===a?s:Promise.reject(new Error(l))}),(e=>{var a;r.done();let l="";switch(null==(a=e.response)?void 0:a.status){case 401:l="token 失效，请重新登录";break;case 403:l="拒绝访问";break;case 404:l="请求地址错误";break;case 500:l="服务器故障";break;default:l="网络连接故障"}return Promise.reject(e)}));const k={get:(e,a)=>v.get(e,a),post:(e,a,l)=>v.post(e,a,l),put:(e,a,l)=>v.put(e,a,l),delete:(e,a)=>v.delete(e,a)},f=()=>{var e,l,s,t;const[c,r]=React.useState({}),{type:i="collection"}=n(),o=React.useCallback((async()=>{const e=await k.get(`/props/getProps?type=${i}`);r(e)}),[i]);return React.useEffect((()=>{o()}),[o]),a.jsxs("div",{className:"flex flex-col mb-5",children:[("collection"===i||!i)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider px-4",children:"收集品"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:c&&(null==(e=c.collection)?void 0:e.map((e=>a.jsx(N,{data:e},e.id))))})]}),("consume"===i||!i)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider px-4",children:"消耗品"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:c&&(null==(l=c.consume)?void 0:l.map((e=>a.jsx(N,{data:e},e.id))))})]}),("key"===i||!i)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider px-4",children:"钥匙"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:c&&(null==(s=c.key)?void 0:s.map((e=>a.jsx(N,{data:e},e.id))))})]}),("mandel"===i||!i)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider px-4",children:"曼德尔砖"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:c&&(null==(t=c.mandel)?void 0:t.map((e=>a.jsx(N,{data:e},e.id))))})]})]})},N=({data:e})=>{var l;return a.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[a.jsx("figure",{style:{backgroundColor:j[e.grade-1]},className:"p-4",children:a.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("h2",{className:"card-title",children:[e.objectName,"mandel"!==e.secondClass&&a.jsx("div",{className:"badge",style:{backgroundColor:j[e.grade-1]},children:e.secondClassCN})]}),a.jsx("p",{children:e.desc}),a.jsxs("div",{className:"card-actions justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{children:[e.weight,"kg"]}),a.jsx(y,{width:Number(e.width),length:Number(e.length)})]}),a.jsxs("div",{className:"w-40 h-full",children:[e.propsDetail.type&&a.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.propsDetail.type}),(null==(l=null==e?void 0:e.propsDetail)?void 0:l.propsSource)&&e.propsDetail.propsSource.split(",").map((e=>a.jsx("div",{className:"badge badge-outline collapse mb-1",children:e},e))),e.propsDetail.useMap&&a.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.propsDetail.usePlace}),e.propsDetail.usePlace&&a.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.propsDetail.usePlace}),e.propsDetail.durability&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:[e.propsDetail.durability,"次"]}),e.propsDetail.replyEffect&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.replyEffect]}),e.propsDetail.hearEnhance&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.hearEnhance]}),e.propsDetail.bearEnhance&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.bearEnhance]}),e.propsDetail.bodyCapacity&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.bodyCapacity]}),e.propsDetail.repairPoints&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["修理点：",e.propsDetail.repairPoints]}),e.propsDetail.availableCount&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["可用次数：",e.propsDetail.availableCount]}),e.propsDetail.activeTime&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["持续时间：",e.propsDetail.activeTime]})]})]})]})]})},w=()=>{var e;const[l,s]=React.useState({}),{type:t="all"}=n(),c=React.useCallback((async()=>{const e=await k.get(`/arms/getArms?type=${t}`);s(e)}),[t]);return React.useEffect((()=>{c()}),[c]),a.jsx("div",{className:"flex flex-col mb-5",children:(null==l?void 0:l.list)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider px-4",children:t&&"all"!==t?l.list[0].secondClassCN:"武器"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:null==(e=l.list)?void 0:e.map((e=>a.jsx(D,{data:e},e.id)))})]})})},D=({data:e})=>a.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[a.jsx("figure",{style:{backgroundColor:j[e.grade-1]},className:"p-4",children:a.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-contain"})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("h2",{className:"card-title",children:[e.objectName,"mandel"!==e.secondClass&&a.jsx("div",{className:"badge",style:{backgroundColor:j[e.grade-1]},children:e.secondClassCN})]}),a.jsx("p",{children:e.desc}),a.jsx("div",{className:"card-actions justify-between",children:a.jsxs("div",{children:[a.jsxs("div",{children:[e.weight,"kg"]}),a.jsx(y,{width:Number(e.width),length:Number(e.length)})]})})]})]}),C=o([{path:"/",element:a.jsx(g,{}),children:[{path:"/props",element:a.jsx(f,{})},{path:"/props/:type",element:a.jsx(f,{})},{path:"/arms",element:a.jsx(w,{})},{path:"/arms/:type",element:a.jsx(w,{})}]},{path:"*",element:a.jsx(d,{to:"/"})}]),R=document.getElementById("root");if(R){ReactDOM.createRoot(R).render(a.jsxs(React.StrictMode,{children:[a.jsx(p,{router:C}),a.jsx(m,{})]}))}
