import{t as e,j as a,u as l,L as s,I as r,N as t,O as c,a as i,c as n,b as o,R as d}from"./.pnpm-B9m5iDZl.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&a(e)})).observe(document,{childList:!0,subtree:!0})}function a(e){if(e.ep)return;e.ep=!0;const a=function(e){const a={};return e.integrity&&(a.integrity=e.integrity),e.referrerPolicy&&(a.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?a.credentials="include":"anonymous"===e.crossOrigin?a.credentials="omit":a.credentials="same-origin",a}(e);fetch(e.href,a)}}();const p=()=>{const[l,s]=React.useState(!1);return React.useEffect((()=>{const a=e((()=>{document.documentElement.scrollTop>500||document.body.scrollTop>500?s(!0):s(!1)}),100);return window.addEventListener("scroll",a),()=>window.removeEventListener("scroll",a)}),[]),l&&a.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-4 p-2 bg-background-secondary text-text-primary rounded-md hover:bg-background-secondary/90 focus:outline-none border border-border",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 transform rotate-180",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l-7-7h3.5V5.5a2.25 2.25 0 0 1 4.5 0V12h3.5L12 19z"})})})},m=()=>a.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen w-full",children:a.jsx("span",{className:"loading loading-spinner loading-lg"})}),b=[{key:"agent",label:"干员",children:[{key:"assault",label:"突击"},{key:"project",label:"工程"},{key:"support",label:"支援"},{key:"scout",label:"侦察"}]},{key:"props",label:"道具",children:[{key:"collection",label:"收集品"},{key:"consume",label:"消耗品"},{key:"key",label:"钥匙"},{key:"mandel",label:"曼德尔砖"}]},{key:"arms",label:"武器",children:[{key:"gunRifle",label:"步枪"},{key:"gunSMG",label:"冲锋枪"},{key:"gunPistol",label:"手枪"},{key:"gunLMG",label:"轻机枪"},{key:"gunSniper",label:"狙击步枪"},{key:"gunMP",label:"精确射手步枪"},{key:"gunShotgun",label:"霰弹枪"}]},{key:"protect",label:"装备",children:[{key:"helmet",label:"头盔"},{key:"chest",label:"胸挂"},{key:"armor",label:"护甲"},{key:"bag",label:"背包"}]},{key:"acc",label:"配件",children:[{key:"accForeGrip",label:"前握把"},{key:"accFunctional",label:"功能性配件"},{key:"accBackGrip",label:"后握把"},{key:"accMagazine",label:"弹匣"},{key:"accHandGuard",label:"护木"},{key:"accMuzzle",label:"枪口"},{key:"accStock",label:"枪托"},{key:"accBarrel",label:"枪管"},{key:"accScope",label:"瞄具"}]},{key:"secret",label:"特勤处",children:[{key:"upgrade",label:"升级"},{key:"making",label:"制造"}]}],u=()=>{const e=l(),[s,r]=React.useState("agent");return t=b,a.jsx("ul",{className:"menu bg-base-200 p-0 [&_li>*]:rounded-none",children:t.map((l=>a.jsxs("li",{onClick:()=>{r(l.key),e(`/${l.key}`)},children:[a.jsx("a",{className:s===l.key?"active":"",children:l.label}),l.children&&a.jsx("ul",{children:l.children.map((({key:t,label:c,children:i})=>a.jsxs("li",{onClick:a=>{r(t),e(`/${l.key}/${t}`),a.stopPropagation()},children:[a.jsx("a",{className:s===t?"active":"",children:c}),i&&a.jsx("ul",{children:i.map((({key:c,label:i})=>a.jsx("li",{onClick:a=>{r(c),e(`/${l.key}/${t}/${c}`),a.stopPropagation()},children:a.jsx("a",{className:s===t?"active":"",children:i})},c)))})]},t)))})]},l.key)))});var t},h=()=>a.jsx("ul",{className:"navbar bg-base-100 text-base-content fixed top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-shadow duration-100 shadow-sm p-3 bg-background/95 supports-[backdrop-filter]:bg-background/40",children:a.jsx("li",{children:a.jsx(s,{to:"/",className:"text-2xl font-bold",children:a.jsx(r,{height:20,preview:!1,src:"https://game.gtimg.cn/images/dfm/cp/a20240906fab/s1_logo.png"})})})});function x(){const[e,l]=React.useState(!0);return React.useEffect((()=>{t.start(),setTimeout((()=>{l(!1),t.done()}),1e3)}),[]),a.jsxs(a.Fragment,{children:[a.jsx(h,{}),a.jsxs("main",{className:"container min-h-[100vh] max-w-[100vw] pt-[64px] flex",children:[a.jsx("div",{className:"w-[160px]",children:a.jsx(u,{})}),a.jsx("div",{className:"w-[calc(100vw-160px)]",children:e?a.jsx(m,{}):a.jsx(c,{})})]})]})}const g=["#748084","#238d6f","#3a749f","#6c57a0","#8a5e3e","#97434c"],j=({width:e,length:l})=>a.jsx("div",{children:(()=>{const s=[];for(let r=0;r<4;r++){const t=[];for(let s=0;s<7;s++){const c={width:"8px",height:"8px",border:"1px solid black",display:"inline-block",backgroundColor:r<e&&s<l?"black":"transparent",marginRight:1};t.push(a.jsx("div",{style:c},`${r}-${s}`))}s.push(a.jsx("div",{style:{height:8,marginBottom:1},children:t},r))}return s})()}),y=axios.create({baseURL:"https://novel-api-psi.vercel.app",timeout:0});y.interceptors.request.use((e=>(t.start(),e)),(e=>(t.done(),Promise.reject(e)))),y.interceptors.response.use((e=>{t.done();const{code:a,message:l,data:s}=e.data;return 0===a||1===a||200===a?s:Promise.reject(new Error(l))}),(e=>{var a;t.done();let l="";switch(null==(a=e.response)?void 0:a.status){case 401:l="token 失效，请重新登录";break;case 403:l="拒绝访问";break;case 404:l="请求地址错误";break;case 500:l="服务器故障";break;default:l="网络连接故障"}return Promise.reject(e)}));const k={get:(e,a)=>y.get(e,a),post:(e,a,l)=>y.post(e,a,l),put:(e,a,l)=>y.put(e,a,l),delete:(e,a)=>y.delete(e,a)},v=()=>{var e,l,s,r;const[t,c]=React.useState({}),{type:n}=i();return React.useEffect((()=>{(async()=>{const e=await k.get("/props/getProps");c(e)})()}),[]),a.jsxs("div",{className:"flex flex-col mb-5",children:[("collection"===n||!n)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider px-4",children:"收集品"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:t&&(null==(e=t.collection)?void 0:e.map((e=>a.jsx(f,{data:e},e.id))))})]}),("consume"===n||!n)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider",children:"消耗品"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:t&&(null==(l=t.consume)?void 0:l.map((e=>a.jsx(f,{data:e},e.id))))})]}),("key"===n||!n)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider",children:"钥匙"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:t&&(null==(s=t.key)?void 0:s.map((e=>a.jsx(f,{data:e},e.id))))})]}),("mandel"===n||!n)&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"divider",children:"曼德尔砖"}),a.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:t&&(null==(r=t.mandel)?void 0:r.map((e=>a.jsx(f,{data:e},e.id))))})]})]})},f=({data:e})=>{var l;return a.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[a.jsx("figure",{style:{backgroundColor:g[e.grade-1]},className:"p-4",children:a.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-cover"})}),a.jsxs("div",{className:"card-body",children:[a.jsxs("h2",{className:"card-title",children:[e.objectName,"mandel"!==e.secondClass&&a.jsx("div",{className:"badge",style:{backgroundColor:g[e.grade-1]},children:e.secondClassCN})]}),a.jsx("p",{children:e.desc}),a.jsxs("div",{className:"card-actions justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{children:[e.weight,"kg"]}),a.jsx(j,{width:Number(e.width),length:Number(e.length)})]}),a.jsxs("div",{className:"w-40 h-full",children:[e.propsDetail.type&&a.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.propsDetail.type}),(null==(l=null==e?void 0:e.propsDetail)?void 0:l.propsSource)&&e.propsDetail.propsSource.split(",").map((e=>a.jsx("div",{className:"badge badge-outline collapse mb-1",children:e},e))),e.propsDetail.useMap&&a.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.propsDetail.usePlace}),e.propsDetail.usePlace&&a.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.propsDetail.usePlace}),e.propsDetail.durability&&a.jsxs("div",{className:"badge badge-outline collapse",children:[e.propsDetail.durability,"次"]}),e.propsDetail.replyEffect&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.replyEffect]}),e.propsDetail.hearEnhance&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.hearEnhance]}),e.propsDetail.bearEnhance&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.bearEnhance]}),e.propsDetail.bodyCapacity&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["效果：",e.propsDetail.bodyCapacity]}),e.propsDetail.repairPoints&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["修理点：",e.propsDetail.repairPoints]}),e.propsDetail.availableCount&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["可用次数：",e.propsDetail.availableCount]}),e.propsDetail.activeTime&&a.jsxs("div",{className:"badge badge-outline collapse mb-1",children:["持续时间：",e.propsDetail.activeTime]})]})]})]})]})},N=n([{path:"/",element:a.jsx(x,{}),children:[{path:"/props",element:a.jsx(v,{})},{path:"/props/:type",element:a.jsx(v,{})}]},{path:"*",element:a.jsx(o,{to:"/"})}]),w=document.getElementById("root");if(w){ReactDOM.createRoot(w).render(a.jsxs(React.StrictMode,{children:[a.jsx(d,{router:N}),a.jsx(p,{})]}))}
