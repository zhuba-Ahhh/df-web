import{t as e,j as l,u as a,L as s,I as t,N as r,O as c,c as n,a as i,R as o}from"./.pnpm-WdmV8sPF.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&l(e)})).observe(document,{childList:!0,subtree:!0})}function l(e){if(e.ep)return;e.ep=!0;const l=function(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?l.credentials="include":"anonymous"===e.crossOrigin?l.credentials="omit":l.credentials="same-origin",l}(e);fetch(e.href,l)}}();const d=()=>{const[a,s]=React.useState(!1);return React.useEffect((()=>{const l=e((()=>{document.documentElement.scrollTop>500||document.body.scrollTop>500?s(!0):s(!1)}),100);return window.addEventListener("scroll",l),()=>window.removeEventListener("scroll",l)}),[]),a&&l.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-8 right-4 p-2 bg-background-secondary text-text-primary rounded-md hover:bg-background-secondary/90 focus:outline-none border border-border",children:l.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6 transform rotate-180",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 19l-7-7h3.5V5.5a2.25 2.25 0 0 1 4.5 0V12h3.5L12 19z"})})})},p=()=>l.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen w-full",children:l.jsx("span",{className:"loading loading-spinner loading-lg"})}),u=[{key:"agent",label:"干员",children:[{key:"assault",label:"突击"},{key:"project",label:"工程"},{key:"support",label:"支援"},{key:"scout",label:"侦察"}]},{key:"props",label:"道具",children:[{key:"collection",label:"收集品"},{key:"consume",label:"消耗品",children:[{key:"repair",label:"维修套件"},{key:"drug",label:"药品"},{key:"inject",label:"针剂"}]},{key:"key",label:"钥匙"},{key:"mandel",label:"曼德尔砖"}]},{key:"arms",label:"武器",children:[{key:"gunRifle",label:"步枪"},{key:"gunSMG",label:"冲锋枪"},{key:"gunPistol",label:"手枪"},{key:"gunLMG",label:"轻机枪"},{key:"gunSniper",label:"狙击步枪"},{key:"gunMP",label:"精确射手步枪"},{key:"gunShotgun",label:"霰弹枪"}]},{key:"protect",label:"装备",children:[{key:"helmet",label:"头盔"},{key:"chest",label:"胸挂"},{key:"armor",label:"护甲"},{key:"bag",label:"背包"}]},{key:"acc",label:"配件",children:[{key:"accForeGrip",label:"前握把"},{key:"accFunctional",label:"功能性配件"},{key:"accBackGrip",label:"后握把"},{key:"accMagazine",label:"弹匣"},{key:"accHandGuard",label:"护木"},{key:"accMuzzle",label:"枪口"},{key:"accStock",label:"枪托"},{key:"accBarrel",label:"枪管"},{key:"accScope",label:"瞄具"}]},{key:"secret",label:"特勤处",children:[{key:"upgrade",label:"升级"},{key:"making",label:"制造"}]}],m=()=>{const e=a(),[s,t]=React.useState("agent");return r=u,l.jsx("ul",{className:"menu bg-base-200 w-40 p-0 [&_li>*]:rounded-none",children:r.map((a=>l.jsxs("li",{onClick:()=>{t(a.key),e(`/${a.key}`)},children:[l.jsx("a",{className:s===a.key?"active":"",children:a.label}),a.children&&l.jsx("ul",{children:a.children.map((({key:r,label:c,children:n})=>l.jsxs("li",{onClick:l=>{t(r),e(`/${a.key}/${r}`),l.stopPropagation()},children:[l.jsx("a",{className:s===r?"active":"",children:c}),n&&l.jsx("ul",{children:n.map((({key:c,label:n})=>l.jsx("li",{onClick:l=>{t(c),e(`/${a.key}/${r}/${c}`),l.stopPropagation()},children:l.jsx("a",{className:s===r?"active":"",children:n})},c)))})]},r)))})]},a.key)))});var r},h=()=>l.jsx("ul",{className:"navbar bg-base-100 text-base-content fixed top-0 z-30 flex h-16 w-full justify-center bg-opacity-90 backdrop-blur transition-shadow duration-100 shadow-sm p-3 bg-background/95 supports-[backdrop-filter]:bg-background/40",children:l.jsx("li",{children:l.jsx(s,{to:"/",className:"text-2xl font-bold",children:l.jsx(t,{height:20,preview:!1,src:"https://game.gtimg.cn/images/dfm/cp/a20240906fab/s1_logo.png"})})})});function b(){const[e,a]=React.useState(!0);return React.useEffect((()=>{r.start(),setTimeout((()=>{a(!1),r.done()}),1e3)}),[]),l.jsxs(l.Fragment,{children:[l.jsx(h,{}),l.jsxs("main",{className:"container min-h-[100vh] max-w-[100vw] pt-[64px] flex",children:[l.jsx(m,{}),e?l.jsx("div",{className:"w-[calc(100vw-160px)]",children:l.jsx(p,{})}):l.jsx(c,{})]})]})}const x=["#748084","#238d6f","#3a749f","#6c57a0","#8a5e3e","#97434c"],g=({width:e,length:a})=>l.jsx("div",{children:(()=>{const s=[];for(let t=0;t<4;t++){const r=[];for(let s=0;s<7;s++){const c={width:"8px",height:"8px",border:"1px solid black",display:"inline-block",backgroundColor:t<e&&s<a?"black":"transparent",marginRight:1};r.push(l.jsx("div",{style:c},`${t}-${s}`))}s.push(l.jsx("div",{style:{height:8,marginBottom:1},children:r},t))}return s})()}),k=axios.create({baseURL:"https://novel-api-psi.vercel.app",timeout:0});k.interceptors.request.use((e=>(r.start(),e)),(e=>(r.done(),Promise.reject(e)))),k.interceptors.response.use((e=>{r.done();const{code:l,message:a,data:s}=e.data;return 0===l||1===l||200===l?s:Promise.reject(new Error(a))}),(e=>{var l;r.done();let a="";switch(null==(l=e.response)?void 0:l.status){case 401:a="token 失效，请重新登录";break;case 403:a="拒绝访问";break;case 404:a="请求地址错误";break;case 500:a="服务器故障";break;default:a="网络连接故障"}return Promise.reject(e)}));const y={get:(e,l)=>k.get(e,l),post:(e,l,a)=>k.post(e,l,a),put:(e,l,a)=>k.put(e,l,a),delete:(e,l)=>k.delete(e,l)},j=()=>{var e,a,s,t;const[r,c]=React.useState({});return React.useEffect((()=>{(async()=>{const e=await y.get("/props/getProps");c(e)})()}),[]),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h2",{className:"card-title mx-20 mt-2",children:"收集品"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:r&&(null==(e=r.collection)?void 0:e.map((e=>l.jsx(f,{data:e},e.id))))}),l.jsx("h2",{className:"card-title mx-20 mt-2",children:"消耗品"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:r&&(null==(a=r.consume)?void 0:a.map((e=>l.jsx(f,{data:e},e.id))))}),l.jsx("h2",{className:"card-title mx-20 mt-2",children:"钥匙"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:r&&(null==(s=r.key)?void 0:s.map((e=>l.jsx(f,{data:e},e.id))))}),l.jsx("h2",{className:"card-title mx-20 mt-2",children:"曼德尔砖"}),l.jsx("div",{className:"flex flex-wrap justify-center gap-8 mt-4 w-[calc(100vw-160px)]",children:r&&(null==(t=r.mandel)?void 0:t.map((e=>l.jsx(f,{data:e},e.id))))})]})},f=({data:e})=>{var a;return l.jsxs("div",{className:"card bg-base-100 w-80 shadow-xl p-2 cursor-pointer",children:[l.jsx("figure",{style:{backgroundColor:x[e.grade-1]},className:"p-4",children:l.jsx("img",{src:e.pic,alt:e.objectName,className:"h-60 object-cover"})}),l.jsxs("div",{className:"card-body",children:[l.jsxs("h2",{className:"card-title",children:[e.objectName,l.jsx("div",{className:"badge",style:{backgroundColor:x[e.grade-1]},children:e.secondClassCN})]}),l.jsx("p",{children:e.desc}),l.jsxs("div",{className:"card-actions justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{children:[e.weight,"kg"]}),l.jsx(g,{width:Number(e.width),length:Number(e.length)})]}),l.jsxs("div",{className:"w-40 h-full",children:[e.propsDetail.type&&l.jsx("div",{className:"badge badge-outline collapse mb-1",children:e.propsDetail.type}),(null==(a=null==e?void 0:e.propsDetail)?void 0:a.propsSource)&&e.propsDetail.propsSource.split(",").map((e=>l.jsx("div",{className:"badge badge-outline collapse mb-1",children:e},e)))]})]})]})]})},v=n([{path:"/",element:l.jsx(b,{}),children:[{path:"/props",element:l.jsx(j,{})}]},{path:"*",element:l.jsx(i,{to:"/"})}]),w=document.getElementById("root");if(w){ReactDOM.createRoot(w).render(l.jsxs(React.StrictMode,{children:[l.jsx(o,{router:v}),l.jsx(d,{})]}))}
